# ä»£å·qin - å¯è½åœ°é•œå¤´è®¾è®¡æ–¹æ¡ˆï¼ˆé•œå¤´2åç»­ï¼‰

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºã€Šä»£å·qinã€‹å‰§æœ¬ï¼Œæä¾›å…·ä½“å¯å®æ–½çš„é•œå¤´è®¾è®¡æ–¹æ¡ˆã€‚**æ ¸å¿ƒç†å¿µï¼šè½»äº’åŠ¨ï¼Œé‡è§†è§‰** â€”â€” æ¯ä¸ªé•œå¤´éƒ½æœ‰è¯¦ç»†çš„å¼€å‘æŒ‡å¯¼ã€ç”¨æˆ·ä½“éªŒæµç¨‹å’ŒæŠ€æœ¯å®ç°æ–¹æ¡ˆã€‚

---

## ğŸ¯ å¼€å‘æŒ‡å¯¼åŸåˆ™

### ğŸ’» æŠ€æœ¯å®ç°æ ‡å‡†
- **å¼€å‘å¹³å°**ï¼šHTML5 + CSS3 + JavaScript
- **åˆ†è¾¨ç‡**ï¼š1920x1080ï¼ˆå¯ç¼©æ”¾é€‚é…ï¼‰
- **å¸§ç‡**ï¼š30fpsï¼ˆå…³é”®åŠ¨ç”»60fpsï¼‰
- **åŠ è½½æ—¶é—´**ï¼šå•é•œå¤´ä¸è¶…è¿‡3ç§’

### ğŸ® äº¤äº’è®¾è®¡æ ‡å‡†
- **ä¸»è¦æ“ä½œ**ï¼šé¼ æ ‡ç‚¹å‡»ã€æ‹–æ‹½ã€æ»šè½®
- **è¾…åŠ©æ“ä½œ**ï¼šé”®ç›˜å¿«æ·é”®ï¼ˆç©ºæ ¼=ç»§ç»­ï¼ŒESC=èœå•ï¼‰
- **åé¦ˆæ—¶é—´**ï¼šæ“ä½œå“åº”<100ms
- **å®¹é”™æœºåˆ¶**ï¼šæ— å¤±è´¥çŠ¶æ€ï¼Œåªæœ‰ä¸åŒä½“éªŒè·¯å¾„

### ğŸ“± ç”¨æˆ·ä½“éªŒæ ‡å‡†
- **å­¦ä¹ æˆæœ¬**ï¼šæ–°ç”¨æˆ·3åˆ†é’Ÿå†…æŒæ¡æ‰€æœ‰æ“ä½œ
- **æ²‰æµ¸æ„Ÿ**ï¼šå•é•œå¤´ä½“éªŒæ—¶é•¿3-8åˆ†é’Ÿ
- **é‡ç©ä»·å€¼**ï¼šæ¯ä¸ªé•œå¤´è‡³å°‘2ç§ä¸åŒä½“éªŒè·¯å¾„
- **æƒ…æ„ŸèŠ‚å¥**ï¼šæ¯30ç§’ä¸€ä¸ªæƒ…æ„Ÿé«˜æ½®ç‚¹

---

## ğŸ¬ å…·ä½“é•œå¤´å®æ–½æ–¹æ¡ˆ

## é•œå¤´3ï¼šæ—¶ç©ºç©¿è¶Šæ¼©æ¶¡ â­â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"å½·ä½›ä¹‹ä¸­ï¼Œxåœ¨ä¸€ä¸ªæ²¡æœ‰å°½å¤´çš„æ¼©æ¶¡ä¸­......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°æ—¶ç©ºç©¿è¶Šï¼Œè®©ç”¨æˆ·é€‰æ‹©å†å²ä½é¢
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»è¿·èŒ«ææƒ§è½¬å‘éœ‡æ’¼å¥½å¥‡
**æ—¶é•¿è®¾è®¡**ï¼š25-30ç§’ï¼ˆå¯é‡å¤ä½“éªŒï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šçœ©æ™•è‹é†’ï¼ˆ0-5ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå¿«é€Ÿæ—‹è½¬çš„æ¨¡ç³Šç”»é¢ï¼Œé€æ¸æ¸…æ™°
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè‡ªåŠ¨æ’­æ”¾
ç”¨æˆ·æ„Ÿå—ï¼šçœ©æ™•æ„Ÿï¼Œä¸çŸ¥èº«åœ¨ä½•å¤„

ç¬¬2é˜¶æ®µï¼šæ¼©æ¶¡å…¨æ™¯ï¼ˆ5-10ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå·¨å¤§çš„æ—¶ç©ºæ¼©æ¶¡ï¼Œå‘¨å›´é£˜æµ®ç€å†å²ç”»é¢
ç”¨æˆ·æ“ä½œï¼šé¼ æ ‡å·¦å³æ‹–æ‹½å¯ä»¥æ—‹è½¬è§†è§’
ç”¨æˆ·æ„Ÿå—ï¼šéœ‡æ’¼ï¼Œå¥½å¥‡è¿™äº›ç”»é¢æ˜¯ä»€ä¹ˆ

ç¬¬3é˜¶æ®µï¼šä½é¢æ¢ç´¢ï¼ˆ10-20ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼š5ä¸ªå†å²ä½é¢ç”»é¢ä¾æ¬¡æ”¾å¤§å±•ç¤º
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»ä»»æ„ç”»é¢å¯ä»¥é¢„è§ˆè¯¦æƒ…
ç”¨æˆ·æ„Ÿå—ï¼šé€‰æ‹©çš„å…´å¥‹æ„Ÿï¼Œå¯¹ä¸åŒå†å²çš„å¥½å¥‡

ç¬¬4é˜¶æ®µï¼šç¡®è®¤ç©¿è¶Šï¼ˆ20-25ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šç§¦æœç”»é¢è‡ªåŠ¨é«˜äº®ï¼ˆé»˜è®¤é€‰æ‹©ï¼‰
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»ç¡®è®¤æˆ–ç­‰å¾…3ç§’è‡ªåŠ¨ç¡®è®¤
ç”¨æˆ·æ„Ÿå—ï¼šæœŸå¾…å³å°†å¼€å§‹çš„å†’é™©
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ è§†è§‰èµ„æºæ¸…å•
```html
<!-- èƒŒæ™¯èµ„æº -->
<div class="vortex-background">
  <canvas id="particle-system"></canvas> <!-- ç²’å­æ¼©æ¶¡ -->
  <div class="gradient-overlay"></div>    <!-- æ¸å˜é®ç½© -->
</div>

<!-- å†å²ä½é¢ç”»é¢ -->
<div class="history-planes">
  <div class="plane tang-dynasty" data-era="tang">
    <img src="tang-palace.jpg" alt="å”æœç”»é¢">
    <div class="plane-effects">ç‰¡ä¸¹èŠ±ç“£é£èˆ</div>
  </div>
  <div class="plane three-kingdoms" data-era="three">
    <img src="red-cliff.jpg" alt="ä¸‰å›½ç”»é¢">
    <div class="plane-effects">ç«ç„°ç²’å­</div>
  </div>
  <!-- å…¶ä»–ä½é¢... -->
</div>
```

#### ğŸ® äº¤äº’é€»è¾‘ä»£ç 
```javascript
// é•œå¤´3ä¸»æ§åˆ¶å™¨
class Scene3Controller {
  constructor() {
    this.currentPhase = 1;
    this.selectedPlane = 'qin'; // é»˜è®¤é€‰æ‹©ç§¦æœ
    this.autoTimer = null;
  }
  
  // é˜¶æ®µ1ï¼šçœ©æ™•æ•ˆæœ
  startDizzyEffect() {
    const camera = document.querySelector('.camera');
    camera.style.transform = 'rotate(720deg)';
    camera.style.filter = 'blur(10px)';
    
    setTimeout(() => {
      camera.style.filter = 'blur(0px)';
      this.showVortex();
    }, 5000);
  }
  
  // é˜¶æ®µ2ï¼šæ˜¾ç¤ºæ¼©æ¶¡
  showVortex() {
    this.currentPhase = 2;
    this.enableMouseDrag(); // å…è®¸æ‹–æ‹½æ—‹è½¬
    this.startParticleSystem(); // å¯åŠ¨ç²’å­ç³»ç»Ÿ
    
    setTimeout(() => {
      this.showHistoryPlanes();
    }, 5000);
  }
  
  // é˜¶æ®µ3ï¼šå±•ç¤ºå†å²ä½é¢
  showHistoryPlanes() {
    this.currentPhase = 3;
    const planes = document.querySelectorAll('.plane');
    
    planes.forEach((plane, index) => {
      setTimeout(() => {
        plane.classList.add('visible');
        plane.addEventListener('click', () => this.previewPlane(plane));
      }, index * 1000);
    });
    
    // 10ç§’åè‡ªåŠ¨è¿›å…¥ç¡®è®¤é˜¶æ®µ
    setTimeout(() => {
      this.confirmSelection();
    }, 10000);
  }
  
  // ä½é¢é¢„è§ˆ
  previewPlane(plane) {
    const era = plane.dataset.era;
    this.showPlaneDetails(era);
  }
  
  // ç¡®è®¤é€‰æ‹©
  confirmSelection() {
    this.currentPhase = 4;
    this.highlightSelectedPlane();
    this.showConfirmButton();
  }
}
```

#### ğŸµ éŸ³æ•ˆå®ç°æ–¹æ¡ˆ
```javascript
// éŸ³æ•ˆç®¡ç†å™¨
class Scene3AudioManager {
  constructor() {
    this.bgMusic = new Audio('assets/audio/vortex-ambient.mp3');
    this.planeHover = new Audio('assets/audio/plane-hover.mp3');
    this.confirm = new Audio('assets/audio/selection-confirm.mp3');
  }
  
  playPhaseMusic(phase) {
    switch(phase) {
      case 1: // çœ©æ™•é˜¶æ®µ
        this.bgMusic.volume = 0.3;
        this.bgMusic.play();
        break;
      case 2: // æ¼©æ¶¡é˜¶æ®µ
        this.bgMusic.volume = 0.6;
        break;
      case 3: // æ¢ç´¢é˜¶æ®µ
        this.bgMusic.volume = 0.8;
        break;
    }
  }
}
```

### ğŸ¨ ç¾æœ¯åˆ¶ä½œè§„èŒƒ

#### ğŸ“ ç”»é¢æ„å›¾è¦æ±‚
- **æ¼©æ¶¡ä¸­å¿ƒ**ï¼šå å±å¹•ä¸­å¤®1/3åŒºåŸŸï¼Œä½¿ç”¨èºæ—‹æ„å›¾
- **å†å²ç”»é¢**ï¼š5ä¸ªç”»é¢å‘ˆäº”è§’æ˜Ÿåˆ†å¸ƒï¼Œæ¯ä¸ªå å±å¹•1/8
- **ç²’å­æ•ˆæœ**ï¼šå¯†åº¦é€‚ä¸­ï¼Œä¸é®æŒ¡ä¸»è¦å†…å®¹
- **UIå…ƒç´ **ï¼šåŠé€æ˜è®¾è®¡ï¼Œä¸ç ´åæ²‰æµ¸æ„Ÿ

#### ğŸŒˆ è‰²å½©æ­é…æ–¹æ¡ˆ
```css
/* ä¸»è‰²è°ƒ */
.vortex-background {
  background: radial-gradient(
    circle at center,
    #1a1a2e 0%,     /* æ·±è“ç´« */
    #16213e 50%,    /* ä¸­è“ç´« */
    #0f3460 100%    /* æ·±è“ */
  );
}

/* å„ä½é¢è‰²å½© */
.tang-dynasty { filter: hue-rotate(30deg) saturate(1.2); }   /* é‡‘çº¢è‰²è°ƒ */
.three-kingdoms { filter: hue-rotate(15deg) saturate(1.5); } /* æ©™çº¢è‰²è°ƒ */
.ming-dynasty { filter: hue-rotate(200deg) saturate(1.1); }  /* è“è‰²è°ƒ */
.fox-realm { filter: hue-rotate(300deg) saturate(1.3); }     /* ç²‰ç´«è‰²è°ƒ */
.qin-dynasty { filter: hue-rotate(45deg) saturate(1.4); }    /* é‡‘é»„è‰²è°ƒ */
```

### ğŸ“Š æ•°æ®åŸ‹ç‚¹æ–¹æ¡ˆ
```javascript
// ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡
const analytics = {
  // è®°å½•ç”¨æˆ·åœ¨æ¯ä¸ªé˜¶æ®µçš„åœç•™æ—¶é—´
  phaseTime: [0, 0, 0, 0],
  
  // è®°å½•ç”¨æˆ·ç‚¹å‡»äº†å“ªäº›ä½é¢
  clickedPlanes: [],
  
  // è®°å½•æœ€ç»ˆé€‰æ‹©
  finalChoice: 'qin',
  
  // å‘é€æ•°æ®åˆ°åå°
  sendData() {
    fetch('/api/scene3-analytics', {
      method: 'POST',
      body: JSON.stringify(this)
    });
  }
};
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **åŠ è½½æ€§èƒ½**ï¼šé¦–å±æ¸²æŸ“æ—¶é—´<2ç§’
- [ ] **äº¤äº’å“åº”**ï¼šé¼ æ ‡æ‹–æ‹½å»¶è¿Ÿ<50ms
- [ ] **è§†è§‰æ•ˆæœ**ï¼šç²’å­ç³»ç»Ÿå¸§ç‡>30fps
- [ ] **éŸ³æ•ˆåŒæ­¥**ï¼šéŸ³ç”»åŒæ­¥è¯¯å·®<100ms
- [ ] **å…¼å®¹æ€§æµ‹è¯•**ï¼šChrome/Firefox/Safariæ­£å¸¸è¿è¡Œ
- [ ] **ç”¨æˆ·ç†è§£åº¦**ï¼šæ–°ç”¨æˆ·10ç§’å†…ç†è§£æ“ä½œæ–¹å¼

---

## é•œå¤´4ï¼šæ˜Ÿå¤œå±æ€§è§‰é†’ â­â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"æ˜Ÿç©ºç’€ç’¨ï¼Œé“¶æ²³åƒä¸€æ¡å‘å…‰çš„å·¨é¾™æ¨ªè´¯å¤©é™…......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°äº”ç»´å±æ€§ç³»ç»Ÿï¼Œè®©ç”¨æˆ·ä½“éªŒè§’è‰²æˆé•¿
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»è™šå¼±è¿·èŒ«è½¬å‘åŠ›é‡è§‰é†’
**æ—¶é•¿è®¾è®¡**ï¼š35-40ç§’ï¼ˆå«å±æ€§å±•ç¤ºï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šç¯å¢ƒæ„ŸçŸ¥ï¼ˆ0-8ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šä¸»è§’èººåœ¨è‰åœ°ä¸Šï¼Œä»°æœ›æ˜Ÿç©ºï¼Œç‰ä½©å¾®å¾®å‘å…‰
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œæ¬£èµç¾æ™¯
ç”¨æˆ·æ„Ÿå—ï¼šå®é™ã€ç¥ç§˜ï¼Œå¯¹æ˜Ÿç©ºçš„æ•¬ç•

ç¬¬2é˜¶æ®µï¼šæ˜Ÿå…‰äº’åŠ¨ï¼ˆ8-20ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå¤©ç©ºä¸­å‡ºç°5é¢—ç‰¹åˆ«äº®çš„æ˜Ÿæ˜Ÿï¼Œå¯¹åº”äº”ç»´å±æ€§
ç”¨æˆ·æ“ä½œï¼šä¾æ¬¡ç‚¹å‡»æ˜Ÿæ˜Ÿï¼Œæ¯ç‚¹å‡»ä¸€é¢—å°±æœ‰æ˜Ÿå…‰æµå‘ä¸»è§’
ç”¨æˆ·æ„Ÿå—ï¼šç¥å¥‡æ„Ÿï¼Œå‚ä¸æ„Ÿï¼ŒæœŸå¾…å±æ€§çš„è§‰é†’

ç¬¬3é˜¶æ®µï¼šå±æ€§è§‰é†’ï¼ˆ20-35ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šäº”ç§é¢œè‰²çš„å…‰ç¯ä¾æ¬¡åœ¨ä¸»è§’èº«ä¸Šæ˜¾ç°
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹å±æ€§è§‰é†’åŠ¨ç”»
ç”¨æˆ·æ„Ÿå—ï¼šéœ‡æ’¼ï¼Œæˆé•¿çš„å–œæ‚¦ï¼ŒåŠ›é‡æ„Ÿ

ç¬¬4é˜¶æ®µï¼šåŠ›é‡ç¡®è®¤ï¼ˆ35-40ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå±æ€§é¢æ¿æ˜¾ç¤ºï¼Œä¸»è§’ç«™èµ·èº«æ¥
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»ç¡®è®¤æˆ–æŸ¥çœ‹å±æ€§è¯¦æƒ…
ç”¨æˆ·æ„Ÿå—ï¼šæ»¡è¶³æ„Ÿï¼Œå¯¹æœªæ¥å†’é™©çš„æœŸå¾…
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ åœºæ™¯æ„å»ºä»£ç 
```html
<!-- æ˜Ÿå¤œåœºæ™¯ -->
<div class="starry-night-scene">
  <!-- èƒŒæ™¯å±‚ -->
  <div class="background-layers">
    <div class="sky-gradient"></div>
    <canvas id="star-field"></canvas>
    <div class="milky-way"></div>
    <div class="mountain-silhouette"></div>
  </div>
  
  <!-- ä¸»è§’å±‚ -->
  <div class="character-layer">
    <div class="character-body">
      <img src="character-lying.png" alt="ä¸»è§’">
      <div class="jade-pendant glowing"></div>
    </div>
  </div>
  
  <!-- äº¤äº’æ˜Ÿæ˜Ÿ -->
  <div class="interactive-stars">
    <div class="star knowledge" data-attribute="knowledge">
      <div class="star-glow blue"></div>
    </div>
    <div class="star martial" data-attribute="martial">
      <div class="star-glow red"></div>
    </div>
    <!-- å…¶ä»–å±æ€§æ˜Ÿæ˜Ÿ... -->
  </div>
  
  <!-- å±æ€§è§‰é†’æ•ˆæœ -->
  <div class="awakening-effects">
    <div class="attribute-aura knowledge-aura"></div>
    <div class="attribute-aura martial-aura"></div>
    <!-- å…¶ä»–å±æ€§å…‰ç¯... -->
  </div>
</div>
```

#### ğŸ® å±æ€§è§‰é†’æ§åˆ¶å™¨
```javascript
class Scene4Controller {
  constructor() {
    this.attributes = {
      knowledge: { value: 0, color: '#4A90E2', symbol: 'ğŸ“š' },
      martial: { value: 0, color: '#E74C3C', symbol: 'âš”ï¸' },
      cunning: { value: 0, color: '#2ECC71', symbol: 'âš™ï¸' },
      charisma: { value: 0, color: '#9B59B6', symbol: 'ğŸ­' },
      virtue: { value: 0, color: '#F39C12', symbol: 'ğŸŒŸ' }
    };
    this.currentPhase = 1;
    this.awakenedCount = 0;
  }
  
  // å¯åŠ¨æ˜Ÿå…‰äº’åŠ¨
  startStarInteraction() {
    this.currentPhase = 2;
    const stars = document.querySelectorAll('.star');
    
    stars.forEach((star, index) => {
      // æ˜Ÿæ˜Ÿé—ªçƒæ•ˆæœ
      setTimeout(() => {
        star.classList.add('pulsing');
        star.addEventListener('click', () => this.clickStar(star));
      }, index * 1000);
    });
  }
  
  // ç‚¹å‡»æ˜Ÿæ˜Ÿ
  clickStar(starElement) {
    const attribute = starElement.dataset.attribute;
    
    // æ’­æ”¾æ˜Ÿå…‰ä¸‹é™åŠ¨ç”»
    this.playStarlightAnimation(starElement, attribute);
    
    // å¢åŠ å±æ€§å€¼
    this.attributes[attribute].value += 10;
    
    // ç§»é™¤ç‚¹å‡»äº‹ä»¶
    starElement.removeEventListener('click', this.clickStar);
    starElement.classList.add('clicked');
    
    this.awakenedCount++;
    
    // æ‰€æœ‰æ˜Ÿæ˜Ÿéƒ½ç‚¹å‡»åï¼Œå¼€å§‹å±æ€§è§‰é†’
    if (this.awakenedCount >= 5) {
      setTimeout(() => {
        this.startAttributeAwakening();
      }, 2000);
    }
  }
  
  // æ˜Ÿå…‰ä¸‹é™åŠ¨ç”»
  playStarlightAnimation(star, attribute) {
    const starlight = document.createElement('div');
    starlight.className = 'starlight-beam';
    starlight.style.background = this.attributes[attribute].color;
    
    // ä»æ˜Ÿæ˜Ÿä½ç½®åˆ°è§’è‰²ä½ç½®çš„åŠ¨ç”»
    const startPos = star.getBoundingClientRect();
    const characterPos = document.querySelector('.character-body').getBoundingClientRect();
    
    starlight.style.left = startPos.left + 'px';
    starlight.style.top = startPos.top + 'px';
    
    document.body.appendChild(starlight);
    
    // CSSåŠ¨ç”»åˆ°è§’è‰²ä½ç½®
    setTimeout(() => {
      starlight.style.left = characterPos.left + 'px';
      starlight.style.top = characterPos.top + 'px';
      starlight.style.opacity = '0';
    }, 100);
    
    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
    setTimeout(() => {
      starlight.remove();
    }, 2000);
  }
  
  // å±æ€§è§‰é†’åŠ¨ç”»
  startAttributeAwakening() {
    this.currentPhase = 3;
    const auras = document.querySelectorAll('.attribute-aura');
    
    auras.forEach((aura, index) => {
      setTimeout(() => {
        aura.classList.add('awakening');
        this.showAttributeSymbol(aura, index);
      }, index * 800);
    });
    
    // æ‰€æœ‰å±æ€§è§‰é†’å®Œæˆåæ˜¾ç¤ºé¢æ¿
    setTimeout(() => {
      this.showAttributePanel();
    }, 5000);
  }
  
  // æ˜¾ç¤ºå±æ€§ç¬¦å·
  showAttributeSymbol(aura, index) {
    const attributes = Object.keys(this.attributes);
    const attribute = attributes[index];
    const symbol = this.attributes[attribute].symbol;
    
    const symbolElement = document.createElement('div');
    symbolElement.className = 'attribute-symbol';
    symbolElement.textContent = symbol;
    symbolElement.style.color = this.attributes[attribute].color;
    
    aura.appendChild(symbolElement);
  }
  
  // æ˜¾ç¤ºå±æ€§é¢æ¿
  showAttributePanel() {
    this.currentPhase = 4;
    const panel = document.createElement('div');
    panel.className = 'attribute-panel';
    
    // ç”Ÿæˆå±æ€§æ˜¾ç¤º
    Object.entries(this.attributes).forEach(([key, attr]) => {
      const attrDiv = document.createElement('div');
      attrDiv.className = 'attribute-item';
      attrDiv.innerHTML = `
        <span class="attr-name">${this.getAttributeName(key)}</span>
        <div class="attr-bar">
          <div class="attr-fill" style="width: ${attr.value}%; background: ${attr.color}"></div>
        </div>
        <span class="attr-value">${attr.value}</span>
      `;
      panel.appendChild(attrDiv);
    });
    
    document.body.appendChild(panel);
  }
  
  // è·å–å±æ€§ä¸­æ–‡å
  getAttributeName(key) {
    const names = {
      knowledge: 'å­¦è¯†',
      martial: 'æ­¦å¾·', 
      cunning: 'å·§æ€',
      charisma: 'æ–‡é‡‡',
      virtue: 'ä»å¾·'
    };
    return names[key];
  }
}
```

#### ğŸ¨ è§†è§‰æ•ˆæœCSS
```css
/* æ˜Ÿå¤œåœºæ™¯åŸºç¡€æ ·å¼ */
.starry-night-scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
}

/* å¤©ç©ºæ¸å˜ */
.sky-gradient {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    #0c0c0c 0%,
    #1a1a2e 30%,
    #16213e 70%,
    #0f3460 100%
  );
}

/* é“¶æ²³æ•ˆæœ */
.milky-way {
  position: absolute;
  width: 100%;
  height: 20%;
  top: 20%;
  background: linear-gradient(
    45deg,
    transparent 0%,
    rgba(255,255,255,0.1) 30%,
    rgba(255,255,255,0.2) 50%,
    rgba(255,255,255,0.1) 70%,
    transparent 100%
  );
  transform: rotate(-15deg);
}

/* äº¤äº’æ˜Ÿæ˜Ÿæ ·å¼ */
.star {
  position: absolute;
  width: 30px;
  height: 30px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.star.pulsing {
  animation: starPulse 2s infinite;
}

@keyframes starPulse {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.2); opacity: 1; }
}

/* æ˜Ÿå…‰å…‰æŸ */
.starlight-beam {
  position: absolute;
  width: 3px;
  height: 200px;
  background: linear-gradient(to bottom, currentColor, transparent);
  transition: all 2s ease;
  pointer-events: none;
}

/* å±æ€§å…‰ç¯ */
.attribute-aura {
  position: absolute;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  opacity: 0;
  transition: all 1s ease;
}

.attribute-aura.awakening {
  opacity: 0.8;
  animation: auraGlow 3s ease-in-out;
}

@keyframes auraGlow {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.5); opacity: 1; }
  100% { transform: scale(1); opacity: 0.8; }
}

/* å±æ€§é¢æ¿ */
.attribute-panel {
  position: fixed;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.8);
  padding: 20px;
  border-radius: 10px;
  color: white;
  min-width: 300px;
}

.attribute-item {
  display: flex;
  align-items: center;
  margin: 10px 0;
  gap: 10px;
}

.attr-bar {
  flex: 1;
  height: 10px;
  background: rgba(255,255,255,0.2);
  border-radius: 5px;
  overflow: hidden;
}

.attr-fill {
  height: 100%;
  transition: width 1s ease;
}
```

### ğŸ“Š å±æ€§ç³»ç»Ÿæ•°æ®ç»“æ„
```javascript
// å±æ€§ç³»ç»Ÿé…ç½®
const AttributeConfig = {
  knowledge: {
    name: 'å­¦è¯†',
    description: 'å½±å“æŠ€èƒ½å­¦ä¹ å’Œè§£è°œèƒ½åŠ›',
    baseValue: 10,
    maxValue: 100,
    color: '#4A90E2',
    icon: 'ğŸ“š',
    starPosition: { x: '20%', y: '25%' }
  },
  martial: {
    name: 'æ­¦å¾·', 
    description: 'å½±å“æˆ˜æ–—åŠ›å’Œä½“åŠ›',
    baseValue: 10,
    maxValue: 100,
    color: '#E74C3C',
    icon: 'âš”ï¸',
    starPosition: { x: '80%', y: '30%' }
  },
  // ... å…¶ä»–å±æ€§é…ç½®
};
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **æ˜Ÿæ˜Ÿå“åº”**ï¼šç‚¹å‡»æ˜Ÿæ˜Ÿå0.1ç§’å†…å¼€å§‹åŠ¨ç”»
- [ ] **åŠ¨ç”»æµç•…**ï¼šæ˜Ÿå…‰ä¸‹é™åŠ¨ç”»60fps
- [ ] **å±æ€§æ˜¾ç¤º**ï¼šå±æ€§é¢æ¿æ•°æ®å‡†ç¡®æ˜¾ç¤º
- [ ] **è§†è§‰æ•ˆæœ**ï¼šå…‰ç¯åŠ¨ç”»æ— å¡é¡¿
- [ ] **éŸ³æ•ˆåŒæ­¥**ï¼šç‚¹å‡»éŸ³æ•ˆä¸è§†è§‰åŒæ­¥
- [ ] **ç”¨æˆ·ç†è§£**ï¼šæ–°ç”¨æˆ·èƒ½å¿«é€Ÿç†è§£å±æ€§å«ä¹‰

---

## é•œå¤´5ï¼šè‹±é›„æ•‘ç¾é€‰æ‹© â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"å‡ ä¸ªè¡£ç€åè´µçš„å°‘å¹´æ­£å›´ç€ä¸€ä¸ªç˜¦å°çš„ç”·å­©æ‹³æ‰“è„šè¸¢......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°é“å¾·é€‰æ‹©ç³»ç»Ÿï¼Œåˆæ¬¡é‡è§å¬´æ”¿
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»æ„¤æ€’å†²åŠ¨è½¬å‘ç†æ€§é€‰æ‹©
**æ—¶é•¿è®¾è®¡**ï¼š20-25ç§’ï¼ˆå«é€‰æ‹©åæœï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šå†²çªå‘ç°ï¼ˆ0-6ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šæ¶éœ¸å›´æ®´ç˜¦å¼±å°‘å¹´çš„åœºæ™¯ï¼Œä¸»è§’åœ¨è¿œå¤„è§‚å¯Ÿ
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹å†²çªå»ºç«‹
ç”¨æˆ·æ„Ÿå—ï¼šæ„¤æ€’ã€åŒæƒ…ã€æƒ³è¦å¸®åŠ©çš„å†²åŠ¨

ç¬¬2é˜¶æ®µï¼šé€‰æ‹©æ—¶åˆ»ï¼ˆ6-12ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå±å¹•å‡ºç°3ä¸ªé€‰æ‹©æŒ‰é’®ï¼ŒèƒŒæ™¯æ—¶é—´å‡ç¼“
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»é€‰æ‹©ï¼š1.ç›´æ¥å†²ä¸Šå»æ‰“æ¶ 2.æ™ºæ…§åŠè¯´ 3.å¯»æ±‚å¸®åŠ©
ç”¨æˆ·æ„Ÿå—ï¼šç´§å¼ ã€éœ€è¦å¿«é€Ÿå†³ç­–çš„å‹åŠ›æ„Ÿ

ç¬¬3é˜¶æ®µï¼šè¡ŒåŠ¨æ‰§è¡Œï¼ˆ12-20ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šæ ¹æ®é€‰æ‹©æ’­æ”¾ä¸åŒçš„è¡ŒåŠ¨åŠ¨ç”»
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹é€‰æ‹©åæœ
ç”¨æˆ·æ„Ÿå—ï¼šå¯¹è‡ªå·±é€‰æ‹©çš„æ»¡æ„æˆ–åæ‚”

ç¬¬4é˜¶æ®µï¼šç»“æœç¡®è®¤ï¼ˆ20-25ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå¬´æ”¿çš„ååº”å’Œå±æ€§å˜åŒ–æç¤º
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»ç»§ç»­æˆ–æŸ¥çœ‹å±æ€§å˜åŒ–
ç”¨æˆ·æ„Ÿå—ï¼šæˆå°±æ„Ÿï¼Œå¯¹è§’è‰²å…³ç³»çš„æœŸå¾…
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ åœºæ™¯æ„å»ºä»£ç 
```html
<!-- å†²çªåœºæ™¯ -->
<div class="conflict-scene">
  <!-- èƒŒæ™¯ç¯å¢ƒ -->
  <div class="scene-background">
    <img src="ancient-street.jpg" alt="å¤ä»£è¡—é“">
    <div class="lighting-overlay"></div>
  </div>
  
  <!-- è§’è‰²å±‚ -->
  <div class="characters">
    <!-- æ¶éœ¸ä»¬ -->
    <div class="bullies-group">
      <div class="bully" data-id="1">
        <img src="bully1.png" alt="æ¶éœ¸1">
        <div class="action-state attacking"></div>
      </div>
      <div class="bully" data-id="2">
        <img src="bully2.png" alt="æ¶éœ¸2">
      </div>
    </div>
    
    <!-- è¢«æ¬ºè´Ÿçš„å¬´æ”¿ -->
    <div class="victim yingzheng">
      <img src="young-yingzheng.png" alt="å°‘å¹´å¬´æ”¿">
      <div class="health-indicator"></div>
      <div class="emotion-state hurt"></div>
    </div>
    
    <!-- ä¸»è§’ -->
    <div class="protagonist">
      <img src="protagonist.png" alt="ä¸»è§’">
      <div class="decision-aura"></div>
    </div>
  </div>
  
  <!-- é€‰æ‹©ç•Œé¢ -->
  <div class="choice-panel hidden">
    <div class="choice-timer">
      <div class="timer-bar"></div>
      <span class="timer-text">5</span>
    </div>
    
    <div class="choices">
      <button class="choice-btn martial" data-choice="fight">
        <div class="choice-icon">âš”ï¸</div>
        <div class="choice-text">ç›´æ¥å†²ä¸Šå»</div>
        <div class="choice-preview">æ­¦å¾·+15ï¼Œå¯èƒ½å—ä¼¤</div>
      </button>
      
      <button class="choice-btn cunning" data-choice="persuade">
        <div class="choice-icon">ğŸ’¬</div>
        <div class="choice-text">æ™ºæ…§åŠè¯´</div>
        <div class="choice-preview">å·§æ€+10ï¼Œå’Œå¹³è§£å†³</div>
      </button>
      
      <button class="choice-btn virtue" data-choice="help">
        <div class="choice-icon">ğŸ¤</div>
        <div class="choice-text">å¯»æ±‚å¸®åŠ©</div>
        <div class="choice-preview">ä»å¾·+8ï¼Œè·å¾—ç›Ÿå‹</div>
      </button>
    </div>
  </div>
  
  <!-- è¡ŒåŠ¨ç»“æœåŠ¨ç”» -->
  <div class="action-result hidden">
    <div class="result-animation"></div>
    <div class="attribute-change"></div>
  </div>
</div>
```

#### ğŸ® é€‰æ‹©ç³»ç»Ÿæ§åˆ¶å™¨
```javascript
class Scene5Controller {
  constructor() {
    this.currentPhase = 1;
    this.selectedChoice = null;
    this.timerDuration = 5000; // 5ç§’é€‰æ‹©æ—¶é—´
    this.timerInterval = null;
    
    this.choices = {
      fight: {
        name: 'ç›´æ¥å†²ä¸Šå»',
        attribute: 'martial',
        value: 15,
        animation: 'fight-sequence',
        consequence: 'å¯èƒ½å—ä¼¤ä½†å±•ç°å‹‡æ°”'
      },
      persuade: {
        name: 'æ™ºæ…§åŠè¯´',
        attribute: 'cunning', 
        value: 10,
        animation: 'persuade-sequence',
        consequence: 'å’Œå¹³è§£å†³è·å¾—å°Šé‡'
      },
      help: {
        name: 'å¯»æ±‚å¸®åŠ©',
        attribute: 'virtue',
        value: 8,
        animation: 'help-sequence',
        consequence: 'è·å¾—ç›Ÿå‹æ”¯æŒ'
      }
    };
  }
  
  // å¯åŠ¨å†²çªåœºæ™¯
  startConflictScene() {
    this.currentPhase = 1;
    
    // æ’­æ”¾å†²çªå»ºç«‹åŠ¨ç”»
    this.playConflictAnimation();
    
    // 6ç§’åæ˜¾ç¤ºé€‰æ‹©ç•Œé¢
    setTimeout(() => {
      this.showChoicePanel();
    }, 6000);
  }
  
  // æ’­æ”¾å†²çªåŠ¨ç”»
  playConflictAnimation() {
    const bullies = document.querySelectorAll('.bully');
    const victim = document.querySelector('.victim');
    
    // æ¶éœ¸æ”»å‡»åŠ¨ç”»
    bullies.forEach((bully, index) => {
      setTimeout(() => {
        bully.classList.add('attacking');
      }, index * 500);
    });
    
    // å—å®³è€…å—ä¼¤åŠ¨ç”»
    setTimeout(() => {
      victim.classList.add('being-hurt');
    }, 1000);
    
    // ä¸»è§’æ³¨æ„åˆ°å†²çª
    setTimeout(() => {
      document.querySelector('.protagonist').classList.add('alert');
    }, 3000);
  }
  
  // æ˜¾ç¤ºé€‰æ‹©é¢æ¿
  showChoicePanel() {
    this.currentPhase = 2;
    const panel = document.querySelector('.choice-panel');
    
    // æ—¶é—´å‡ç¼“æ•ˆæœ
    document.querySelector('.conflict-scene').classList.add('slow-motion');
    
    // æ˜¾ç¤ºé€‰æ‹©é¢æ¿
    panel.classList.remove('hidden');
    
    // å¯åŠ¨å€’è®¡æ—¶
    this.startChoiceTimer();
    
    // ç»‘å®šé€‰æ‹©äº‹ä»¶
    this.bindChoiceEvents();
  }
  
  // å¯åŠ¨é€‰æ‹©å€’è®¡æ—¶
  startChoiceTimer() {
    let timeLeft = this.timerDuration;
    const timerBar = document.querySelector('.timer-bar');
    const timerText = document.querySelector('.timer-text');
    
    this.timerInterval = setInterval(() => {
      timeLeft -= 100;
      const progress = (timeLeft / this.timerDuration) * 100;
      
      timerBar.style.width = progress + '%';
      timerText.textContent = Math.ceil(timeLeft / 1000);
      
      if (timeLeft <= 0) {
        // æ—¶é—´åˆ°ï¼Œè‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹
        this.makeChoice('fight');
      }
    }, 100);
  }
  
  // ç»‘å®šé€‰æ‹©äº‹ä»¶
  bindChoiceEvents() {
    const choiceBtns = document.querySelectorAll('.choice-btn');
    
    choiceBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const choice = btn.dataset.choice;
        this.makeChoice(choice);
      });
      
      // æ‚¬åœé¢„è§ˆæ•ˆæœ
      btn.addEventListener('mouseenter', () => {
        this.showChoicePreview(btn);
      });
    });
  }
  
  // æ‰§è¡Œé€‰æ‹©
  makeChoice(choiceKey) {
    if (this.selectedChoice) return; // é˜²æ­¢é‡å¤é€‰æ‹©
    
    this.selectedChoice = choiceKey;
    this.currentPhase = 3;
    
    // æ¸…é™¤å€’è®¡æ—¶
    clearInterval(this.timerInterval);
    
    // éšè—é€‰æ‹©é¢æ¿
    document.querySelector('.choice-panel').classList.add('hidden');
    
    // æ¢å¤æ­£å¸¸æ—¶é—´
    document.querySelector('.conflict-scene').classList.remove('slow-motion');
    
    // æ’­æ”¾å¯¹åº”åŠ¨ç”»
    this.playActionSequence(choiceKey);
  }
  
  // æ’­æ”¾è¡ŒåŠ¨åºåˆ—
  playActionSequence(choiceKey) {
    const choice = this.choices[choiceKey];
    const resultDiv = document.querySelector('.action-result');
    
    resultDiv.classList.remove('hidden');
    
    // æ ¹æ®é€‰æ‹©æ’­æ”¾ä¸åŒåŠ¨ç”»
    switch(choiceKey) {
      case 'fight':
        this.playFightSequence();
        break;
      case 'persuade':
        this.playPersuadeSequence();
        break;
      case 'help':
        this.playHelpSequence();
        break;
    }
    
    // 3ç§’åæ˜¾ç¤ºç»“æœ
    setTimeout(() => {
      this.showResult(choice);
    }, 3000);
  }
  
  // æˆ˜æ–—åºåˆ—åŠ¨ç”»
  playFightSequence() {
    const protagonist = document.querySelector('.protagonist');
    const bullies = document.querySelectorAll('.bully');
    
    // ä¸»è§’å†²åˆº
    protagonist.classList.add('charging');
    
    // æˆ˜æ–—ç‰¹æ•ˆ
    setTimeout(() => {
      bullies.forEach(bully => {
        bully.classList.add('being-hit');
      });
      
      // æ·»åŠ æˆ˜æ–—ç‰¹æ•ˆ
      this.addCombatEffects();
    }, 1000);
  }
  
  // åŠè¯´åºåˆ—åŠ¨ç”»
  playPersuadeSequence() {
    const protagonist = document.querySelector('.protagonist');
    
    // ä¸»è§’èµ°å‘å‰
    protagonist.classList.add('approaching');
    
    // æ˜¾ç¤ºå¯¹è¯æ°”æ³¡
    setTimeout(() => {
      this.showDialogue('ä½æ‰‹ï¼ä½ ä»¬è¿™æ ·åšæ˜¯ä¸å¯¹çš„ï¼');
    }, 1000);
    
    // æ¶éœ¸ä»¬åœæ­¢æ”»å‡»
    setTimeout(() => {
      document.querySelectorAll('.bully').forEach(bully => {
        bully.classList.remove('attacking');
        bully.classList.add('confused');
      });
    }, 2000);
  }
  
  // å¯»æ±‚å¸®åŠ©åºåˆ—
  playHelpSequence() {
    const protagonist = document.querySelector('.protagonist');
    
    // ä¸»è§’å‘¼æ•‘
    protagonist.classList.add('calling-help');
    
    // æ˜¾ç¤ºå‘¼æ•‘å¯¹è¯
    setTimeout(() => {
      this.showDialogue('æ¥äººå•Šï¼æœ‰äººåœ¨è¿™é‡Œæ¬ºè´Ÿäººï¼');
    }, 500);
    
    // è·¯äººå‡ºç°
    setTimeout(() => {
      this.addHelpersToScene();
    }, 1500);
  }
  
  // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
  showResult(choice) {
    this.currentPhase = 4;
    
    // æ˜¾ç¤ºå±æ€§å˜åŒ–
    this.showAttributeChange(choice.attribute, choice.value);
    
    // æ˜¾ç¤ºå¬´æ”¿çš„ååº”
    this.showYingzhengReaction(choice);
    
    // 3ç§’åå¯ä»¥ç»§ç»­
    setTimeout(() => {
      this.showContinueButton();
    }, 3000);
  }
  
  // æ˜¾ç¤ºå±æ€§å˜åŒ–
  showAttributeChange(attribute, value) {
    const changeDiv = document.querySelector('.attribute-change');
    changeDiv.innerHTML = `
      <div class="attr-change-item">
        <span class="attr-name">${this.getAttributeName(attribute)}</span>
        <span class="attr-value">+${value}</span>
      </div>
    `;
    changeDiv.classList.add('show');
  }
  
  // è·å–å±æ€§ä¸­æ–‡å
  getAttributeName(attr) {
    const names = {
      martial: 'æ­¦å¾·',
      cunning: 'å·§æ€',
      virtue: 'ä»å¾·'
    };
    return names[attr];
  }
}
```

#### ğŸ¨ è§†è§‰æ•ˆæœCSS
```css
/* å†²çªåœºæ™¯åŸºç¡€æ ·å¼ */
.conflict-scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  transition: filter 0.5s ease;
}

.conflict-scene.slow-motion {
  filter: blur(1px) brightness(0.7);
}

/* è§’è‰²åŠ¨ç”» */
.bully.attacking {
  animation: attackMotion 1s ease-in-out infinite;
}

@keyframes attackMotion {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(10px); }
}

.victim.being-hurt {
  animation: hurtReaction 0.5s ease-in-out;
  filter: brightness(0.8);
}

@keyframes hurtReaction {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* é€‰æ‹©é¢æ¿æ ·å¼ */
.choice-panel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,0.9);
  padding: 30px;
  border-radius: 15px;
  color: white;
  min-width: 400px;
}

.choice-timer {
  text-align: center;
  margin-bottom: 20px;
}

.timer-bar {
  width: 100%;
  height: 5px;
  background: #ff4444;
  border-radius: 3px;
  transition: width 0.1s linear;
}

.choices {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.choice-btn {
  display: flex;
  align-items: center;
  padding: 15px;
  background: rgba(255,255,255,0.1);
  border: 2px solid transparent;
  border-radius: 10px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
}

.choice-btn:hover {
  background: rgba(255,255,255,0.2);
  border-color: #4CAF50;
  transform: translateY(-2px);
}

.choice-btn.martial:hover { border-color: #f44336; }
.choice-btn.cunning:hover { border-color: #2196F3; }
.choice-btn.virtue:hover { border-color: #FF9800; }

.choice-icon {
  font-size: 24px;
  margin-right: 15px;
}

.choice-text {
  flex: 1;
  font-weight: bold;
}

.choice-preview {
  font-size: 12px;
  opacity: 0.7;
}

/* å±æ€§å˜åŒ–æ˜¾ç¤º */
.attribute-change {
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(0,0,0,0.8);
  padding: 15px;
  border-radius: 10px;
  color: white;
  opacity: 0;
  transform: translateY(-20px);
  transition: all 0.5s ease;
}

.attribute-change.show {
  opacity: 1;
  transform: translateY(0);
}

.attr-change-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.attr-value {
  color: #4CAF50;
  font-weight: bold;
  font-size: 18px;
}
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **é€‰æ‹©å“åº”**ï¼šç‚¹å‡»é€‰æ‹©å0.1ç§’å†…å¼€å§‹åŠ¨ç”»
- [ ] **å€’è®¡æ—¶å‡†ç¡®**ï¼š5ç§’å€’è®¡æ—¶ç²¾ç¡®æ— è¯¯
- [ ] **åŠ¨ç”»æµç•…**ï¼šæ‰€æœ‰è§’è‰²åŠ¨ç”»60fps
- [ ] **å±æ€§è®¡ç®—**ï¼šå±æ€§å˜åŒ–æ•°å€¼æ­£ç¡®
- [ ] **åˆ†æ”¯å®Œæ•´**ï¼šä¸‰ä¸ªé€‰æ‹©åˆ†æ”¯éƒ½èƒ½æ­£å¸¸æ‰§è¡Œ
- [ ] **ç”¨æˆ·ç†è§£**ï¼šæ–°ç”¨æˆ·èƒ½å¿«é€Ÿç†è§£é€‰æ‹©å«ä¹‰

---

## ğŸ“‹ å‰©ä½™é•œå¤´æ¦‚è¦è®¾è®¡

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œä»¥ä¸‹é•œå¤´å°†é‡‡ç”¨æ¦‚è¦è®¾è®¡å½¢å¼ï¼Œé‡ç‚¹è¯´æ˜æ ¸å¿ƒå®ç°è¦ç‚¹ï¼š

## é•œå¤´6ï¼šç‰ä½©å…±é¸£å¥‡è§‚ â­â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"ä¸¤å—ç‰ä½©é è¿‘æ—¶ï¼Œçªç„¶å‘å‡ºå…±é¸£èˆ¬çš„å—¡é¸£ï¼Œä¸€é“é‡‘å…‰åœ¨ä»–ä»¬ä¹‹é—´æµè½¬......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°ç¥å™¨è§‰é†’ï¼Œå»ºç«‹ä¸»è§’ä¸å¬´æ”¿çš„å‘½è¿çº½å¸¦
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»éœ‡æƒŠç–‘æƒ‘è½¬å‘å‘½è¿è®¤åŒ
**æ—¶é•¿è®¾è®¡**ï¼š30-35ç§’ï¼ˆå«å…±é¸£åçš„è§‰é†’æ•ˆæœï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šå‘ç°ç›¸ä¼¼ï¼ˆ0-8ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå¬´æ”¿æ‹¿å‡ºå¦ä¸€å—ç‰ä½©ï¼Œä¸¤äººéƒ½å¾ˆéœ‡æƒŠ
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹å‰§æƒ…å‘å±•
ç”¨æˆ·æ„Ÿå—ï¼šæƒŠè®¶ã€å¥½å¥‡ï¼Œå¯¹å‘½è¿çš„æ„Ÿæ…¨

ç¬¬2é˜¶æ®µï¼šä¸»åŠ¨æ¥è¿‘ï¼ˆ8-18ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šç³»ç»Ÿæç¤ºå¯ä»¥æ‹–æ‹½ç‰ä½©è®©å®ƒä»¬æ¥è¿‘
ç”¨æˆ·æ“ä½œï¼šæ‹–æ‹½è‡ªå·±çš„ç‰ä½©é è¿‘å¬´æ”¿çš„ç‰ä½©
ç”¨æˆ·æ„Ÿå—ï¼šæœŸå¾…ã€ç´§å¼ ï¼Œæƒ³çŸ¥é“ä¼šå‘ç”Ÿä»€ä¹ˆ

ç¬¬3é˜¶æ®µï¼šå…±é¸£è§‰é†’ï¼ˆ18-28ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šé‡‘å…‰æµè½¬ï¼Œä¸¤å—ç‰ä½©æ‚¬æµ®å¹¶æ—‹è½¬ï¼Œå‘å‡ºç¥ç§˜éŸ³æ•ˆ
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹å…±é¸£ç‰¹æ•ˆ
ç”¨æˆ·æ„Ÿå—ï¼šéœ‡æ’¼ã€ç¥å¥‡æ„Ÿï¼Œå¯¹ç¥å™¨åŠ›é‡çš„æ•¬ç•

ç¬¬4é˜¶æ®µï¼šåŠ›é‡æå‡ï¼ˆ28-35ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šä¸¤äººèº«ä¸Šéƒ½å‡ºç°æ·¡æ·¡å…‰ç¯ï¼Œå±æ€§å€¼æå‡
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»æŸ¥çœ‹å±æ€§å˜åŒ–è¯¦æƒ…
ç”¨æˆ·æ„Ÿå—ï¼šæˆé•¿çš„å–œæ‚¦ï¼Œå¯¹æœªæ¥çš„æœŸå¾…
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ åœºæ™¯æ„å»ºä»£ç 
```html
<!-- ç‰ä½©å…±é¸£åœºæ™¯ -->
<div class="jade-resonance-scene">
  <!-- èƒŒæ™¯ç¯å¢ƒ -->
  <div class="scene-background">
    <div class="dim-room"></div>
    <div class="candle-light flickering"></div>
  </div>
  
  <!-- è§’è‰²å±‚ -->
  <div class="characters">
    <div class="protagonist">
      <img src="protagonist-surprised.png" alt="ä¸»è§’">
      <div class="jade-holder">
        <div class="jade-pendant qin-jade draggable" data-type="qin">
          <div class="jade-glow"></div>
          <div class="jade-inscription">ç§¦</div>
        </div>
      </div>
    </div>
    
    <div class="yingzheng">
      <img src="yingzheng-serious.png" alt="å¬´æ”¿">
      <div class="jade-holder">
        <div class="jade-pendant tian-jade" data-type="tian">
          <div class="jade-glow"></div>
          <div class="jade-inscription">å¤©</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- å…±é¸£ç‰¹æ•ˆå±‚ -->
  <div class="resonance-effects">
    <canvas id="resonance-particles"></canvas>
    <div class="golden-beam hidden"></div>
    <div class="energy-waves hidden"></div>
  </div>
  
  <!-- å±æ€§æå‡æ˜¾ç¤º -->
  <div class="attribute-boost hidden">
    <div class="boost-item">
      <span class="attr-name">å­¦è¯†</span>
      <span class="attr-change">+5</span>
    </div>
    <div class="boost-item">
      <span class="attr-name">ä»å¾·</span>
      <span class="attr-change">+5</span>
    </div>
  </div>
</div>
```

#### ğŸ® å…±é¸£æ§åˆ¶å™¨
```javascript
class Scene6Controller {
  constructor() {
    this.currentPhase = 1;
    this.jadeDistance = 300; // åˆå§‹è·ç¦»
    this.resonanceThreshold = 100; // å…±é¸£è§¦å‘è·ç¦»
    this.isDragging = false;
    this.resonanceStarted = false;
  }
  
  // å¯åŠ¨ç‰ä½©å±•ç¤º
  startJadeDiscovery() {
    this.currentPhase = 1;
    
    // æ˜¾ç¤ºå¬´æ”¿å–å‡ºç‰ä½©çš„åŠ¨ç”»
    this.showYingzhengJade();
    
    // 8ç§’åæç¤ºç”¨æˆ·å¯ä»¥æ“ä½œ
    setTimeout(() => {
      this.enableJadeDragging();
    }, 8000);
  }
  
  // æ˜¾ç¤ºå¬´æ”¿ç‰ä½©
  showYingzhengJade() {
    const tianJade = document.querySelector('.tian-jade');
    const yingzheng = document.querySelector('.yingzheng');
    
    // å¬´æ”¿ä»è¡£é¢†å–å‡ºç‰ä½©çš„åŠ¨ç”»
    yingzheng.classList.add('revealing-jade');
    
    setTimeout(() => {
      tianJade.classList.add('visible');
      tianJade.classList.add('glowing');
    }, 2000);
  }
  
  // å¯ç”¨ç‰ä½©æ‹–æ‹½
  enableJadeDragging() {
    this.currentPhase = 2;
    const qinJade = document.querySelector('.qin-jade');
    const hint = document.createElement('div');
    
    // æ˜¾ç¤ºæ“ä½œæç¤º
    hint.className = 'operation-hint';
    hint.textContent = 'æ‹–æ‹½ä½ çš„ç‰ä½©é è¿‘å¬´æ”¿çš„ç‰ä½©';
    document.body.appendChild(hint);
    
    // ç»‘å®šæ‹–æ‹½äº‹ä»¶
    this.bindDragEvents(qinJade);
  }
  
  // ç»‘å®šæ‹–æ‹½äº‹ä»¶
  bindDragEvents(jade) {
    let startX, startY;
    
    jade.addEventListener('mousedown', (e) => {
      this.isDragging = true;
      startX = e.clientX - jade.offsetLeft;
      startY = e.clientY - jade.offsetTop;
      jade.classList.add('dragging');
    });
    
    document.addEventListener('mousemove', (e) => {
      if (!this.isDragging) return;
      
      const newX = e.clientX - startX;
      const newY = e.clientY - startY;
      
      jade.style.left = newX + 'px';
      jade.style.top = newY + 'px';
      
      // è®¡ç®—ä¸ç›®æ ‡ç‰ä½©çš„è·ç¦»
      this.updateJadeDistance(jade);
    });
    
    document.addEventListener('mouseup', () => {
      if (this.isDragging) {
        this.isDragging = false;
        jade.classList.remove('dragging');
      }
    });
  }
  
  // æ›´æ–°ç‰ä½©è·ç¦»å’Œå…±é¸£æ•ˆæœ
  updateJadeDistance(qinJade) {
    const tianJade = document.querySelector('.tian-jade');
    const qinRect = qinJade.getBoundingClientRect();
    const tianRect = tianJade.getBoundingClientRect();
    
    // è®¡ç®—ä¸­å¿ƒç‚¹è·ç¦»
    const distance = Math.sqrt(
      Math.pow(qinRect.left - tianRect.left, 2) +
      Math.pow(qinRect.top - tianRect.top, 2)
    );
    
    this.jadeDistance = distance;
    
    // æ ¹æ®è·ç¦»è°ƒæ•´å…±é¸£å¼ºåº¦
    this.updateResonanceIntensity(distance);
    
    // è·ç¦»è¶³å¤Ÿè¿‘æ—¶è§¦å‘å…±é¸£
    if (distance < this.resonanceThreshold && !this.resonanceStarted) {
      this.triggerResonance();
    }
  }
  
  // æ›´æ–°å…±é¸£å¼ºåº¦
  updateResonanceIntensity(distance) {
    const maxDistance = 200;
    const intensity = Math.max(0, (maxDistance - distance) / maxDistance);
    
    // æ›´æ–°ç‰ä½©å…‰æ•ˆå¼ºåº¦
    const jades = document.querySelectorAll('.jade-pendant');
    jades.forEach(jade => {
      const glow = jade.querySelector('.jade-glow');
      glow.style.opacity = intensity;
      glow.style.boxShadow = `0 0 ${20 * intensity}px rgba(255,215,0,${intensity})`;
    });
    
    // è·ç¦»å¾ˆè¿‘æ—¶å¼€å§‹ç²’å­é¢„æ¼”
    if (intensity > 0.7) {
      this.startPreResonanceEffect();
    }
  }
  
  // é¢„å…±é¸£æ•ˆæœ
  startPreResonanceEffect() {
    const canvas = document.getElementById('resonance-particles');
    const ctx = canvas.getContext('2d');
    
    // åœ¨ä¸¤å—ç‰ä½©ä¹‹é—´äº§ç”Ÿå°‘é‡å…‰ç²’å­
    this.createConnectionParticles(ctx);
  }
  
  // è§¦å‘å®Œæ•´å…±é¸£
  triggerResonance() {
    this.resonanceStarted = true;
    this.currentPhase = 3;
    
    // ç§»é™¤æ‹–æ‹½åŠŸèƒ½
    document.querySelector('.qin-jade').classList.remove('draggable');
    
    // æ’­æ”¾å…±é¸£éŸ³æ•ˆ
    this.playResonanceAudio();
    
    // å¯åŠ¨å…±é¸£åŠ¨ç”»åºåˆ—
    this.playResonanceSequence();
  }
  
  // æ’­æ”¾å…±é¸£åŠ¨ç”»åºåˆ—
  playResonanceSequence() {
    // ç¬¬1æ­¥ï¼šç‰ä½©æ‚¬æµ®ï¼ˆ0-3ç§’ï¼‰
    this.levitateJades();
    
    // ç¬¬2æ­¥ï¼šé‡‘å…‰è¿æ¥ï¼ˆ3-6ç§’ï¼‰
    setTimeout(() => {
      this.showGoldenBeam();
    }, 3000);
    
    // ç¬¬3æ­¥ï¼šèƒ½é‡æ³¢åŠ¨ï¼ˆ6-8ç§’ï¼‰
    setTimeout(() => {
      this.showEnergyWaves();
    }, 6000);
    
    // ç¬¬4æ­¥ï¼šåŠ›é‡è§‰é†’ï¼ˆ8-10ç§’ï¼‰
    setTimeout(() => {
      this.showPowerAwakening();
    }, 8000);
  }
  
  // ç‰ä½©æ‚¬æµ®æ•ˆæœ
  levitateJades() {
    const jades = document.querySelectorAll('.jade-pendant');
    
    jades.forEach((jade, index) => {
      jade.classList.add('levitating');
      
      // ç‰ä½©æ…¢æ…¢å‡èµ·å¹¶æ—‹è½¬
      jade.style.animation = `levitate 3s ease-in-out, rotate 6s linear infinite`;
    });
  }
  
  // æ˜¾ç¤ºé‡‘å…‰è¿æ¥
  showGoldenBeam() {
    const beam = document.querySelector('.golden-beam');
    const qinJade = document.querySelector('.qin-jade');
    const tianJade = document.querySelector('.tian-jade');
    
    beam.classList.remove('hidden');
    
    // è®¡ç®—å…‰æŸçš„ä½ç½®å’Œè§’åº¦
    const qinRect = qinJade.getBoundingClientRect();
    const tianRect = tianJade.getBoundingClientRect();
    
    const startX = qinRect.left + qinRect.width / 2;
    const startY = qinRect.top + qinRect.height / 2;
    const endX = tianRect.left + tianRect.width / 2;
    const endY = tianRect.top + tianRect.height / 2;
    
    const angle = Math.atan2(endY - startY, endX - startX);
    const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
    
    beam.style.left = startX + 'px';
    beam.style.top = startY + 'px';
    beam.style.width = length + 'px';
    beam.style.transform = `rotate(${angle}rad)`;
    beam.classList.add('active');
  }
  
  // æ˜¾ç¤ºèƒ½é‡æ³¢åŠ¨
  showEnergyWaves() {
    const waves = document.querySelector('.energy-waves');
    waves.classList.remove('hidden');
    waves.classList.add('pulsing');
    
    // åˆ›å»ºå¤šå±‚æ³¢åŠ¨æ•ˆæœ
    for (let i = 0; i < 5; i++) {
      setTimeout(() => {
        this.createEnergyWave(i);
      }, i * 400);
    }
  }
  
  // åˆ›å»ºèƒ½é‡æ³¢
  createEnergyWave(index) {
    const wave = document.createElement('div');
    wave.className = 'energy-wave';
    wave.style.animationDelay = index * 0.1 + 's';
    document.querySelector('.energy-waves').appendChild(wave);
  }
  
  // æ˜¾ç¤ºåŠ›é‡è§‰é†’
  showPowerAwakening() {
    this.currentPhase = 4;
    
    // è§’è‰²èº«ä¸Šå‡ºç°å…‰ç¯
    this.showCharacterAuras();
    
    // æ˜¾ç¤ºå±æ€§æå‡
    this.showAttributeBoost();
    
    // 2ç§’åå¯ä»¥ç»§ç»­
    setTimeout(() => {
      this.showContinueButton();
    }, 2000);
  }
  
  // æ˜¾ç¤ºè§’è‰²å…‰ç¯
  showCharacterAuras() {
    const characters = document.querySelectorAll('.protagonist, .yingzheng');
    
    characters.forEach(character => {
      const aura = document.createElement('div');
      aura.className = 'character-aura';
      character.appendChild(aura);
    });
  }
  
  // æ˜¾ç¤ºå±æ€§æå‡
  showAttributeBoost() {
    const boostPanel = document.querySelector('.attribute-boost');
    boostPanel.classList.remove('hidden');
    boostPanel.classList.add('show');
    
    // æ›´æ–°æ¸¸æˆæ•°æ®
    this.updateGameAttributes();
  }
  
  // æ›´æ–°æ¸¸æˆå±æ€§
  updateGameAttributes() {
    // å­¦è¯†+5ï¼Œä»å¾·+5
    if (window.gameData) {
      window.gameData.attributes.knowledge += 5;
      window.gameData.attributes.virtue += 5;
    }
  }
  
  // æ’­æ”¾å…±é¸£éŸ³æ•ˆ
  playResonanceAudio() {
    const audioManager = new Scene6AudioManager();
    audioManager.playResonanceSequence();
  }
}
```

#### ğŸ¨ è§†è§‰æ•ˆæœCSS
```css
/* ç‰ä½©å…±é¸£åœºæ™¯åŸºç¡€æ ·å¼ */
.jade-resonance-scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  background: radial-gradient(circle at center, #2c1810 0%, #1a0f08 100%);
}

/* æ˜æš—æˆ¿é—´æ•ˆæœ */
.dim-room {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    45deg,
    rgba(0,0,0,0.7) 0%,
    rgba(20,10,5,0.5) 50%,
    rgba(0,0,0,0.7) 100%
  );
}

/* çƒ›å…‰æ•ˆæœ */
.candle-light {
  position: absolute;
  top: 20%;
  right: 20%;
  width: 100px;
  height: 150px;
  background: radial-gradient(ellipse at center bottom, #ffaa00 0%, transparent 70%);
  opacity: 0.6;
}

.candle-light.flickering {
  animation: candleFlicker 2s ease-in-out infinite;
}

@keyframes candleFlicker {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.1); }
}

/* ç‰ä½©æ ·å¼ */
.jade-pendant {
  width: 60px;
  height: 80px;
  background: linear-gradient(145deg, #e8f5e8 0%, #a8d8a8 50%, #7fc67f 100%);
  border-radius: 30px 30px 15px 15px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 3px solid rgba(255,215,0,0.3);
}

.jade-pendant.draggable:hover {
  transform: scale(1.1);
}

.jade-pendant.dragging {
  transform: scale(1.2);
  z-index: 1000;
}

/* ç‰ä½©å…‰æ•ˆ */
.jade-glow {
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, transparent 70%);
  border-radius: 50px;
  opacity: 0;
  transition: all 0.3s ease;
}

.jade-pendant.glowing .jade-glow {
  opacity: 0.8;
  animation: jadePulse 2s ease-in-out infinite;
}

@keyframes jadePulse {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.2); opacity: 1; }
}

/* ç‰ä½©é“­æ–‡ */
.jade-inscription {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'æ¥·ä½“', serif;
  font-size: 24px;
  font-weight: bold;
  color: #2d5016;
  text-shadow: 0 0 3px rgba(255,215,0,0.5);
}

/* æ‚¬æµ®åŠ¨ç”» */
.jade-pendant.levitating {
  animation: levitate 3s ease-in-out infinite;
}

@keyframes levitate {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

/* é‡‘å…‰è¿æ¥ */
.golden-beam {
  position: absolute;
  height: 4px;
  background: linear-gradient(to right, 
    transparent 0%,
    rgba(255,215,0,0.8) 20%,
    rgba(255,215,0,1) 50%,
    rgba(255,215,0,0.8) 80%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.5s ease;
  transform-origin: left center;
}

.golden-beam.active {
  opacity: 1;
  animation: beamPulse 2s ease-in-out infinite;
}

@keyframes beamPulse {
  0%, 100% { opacity: 0.8; height: 4px; }
  50% { opacity: 1; height: 8px; }
}

/* èƒ½é‡æ³¢åŠ¨ */
.energy-waves {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.energy-wave {
  position: absolute;
  width: 100px;
  height: 100px;
  border: 2px solid rgba(255,215,0,0.6);
  border-radius: 50%;
  top: -50px;
  left: -50px;
  animation: waveExpand 2s ease-out infinite;
}

@keyframes waveExpand {
  0% { 
    transform: scale(0); 
    opacity: 1; 
    border-width: 2px;
  }
  100% { 
    transform: scale(3); 
    opacity: 0; 
    border-width: 0;
  }
}

/* è§’è‰²å…‰ç¯ */
.character-aura {
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  background: radial-gradient(circle, rgba(255,215,0,0.2) 0%, transparent 70%);
  border-radius: 50%;
  animation: auraGlow 3s ease-in-out infinite;
}

@keyframes auraGlow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.1); }
}

/* å±æ€§æå‡æ˜¾ç¤º */
.attribute-boost {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(0,0,0,0.8);
  padding: 20px;
  border-radius: 10px;
  color: white;
  opacity: 0;
  transform: translateX(100px);
  transition: all 0.5s ease;
}

.attribute-boost.show {
  opacity: 1;
  transform: translateX(0);
}

.boost-item {
  display: flex;
  align-items: center;
  margin: 8px 0;
  gap: 10px;
}

.attr-change {
  color: #4CAF50;
  font-weight: bold;
  font-size: 18px;
}

/* æ“ä½œæç¤º */
.operation-hint {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 15px 25px;
  border-radius: 25px;
  font-size: 16px;
  animation: hintPulse 2s ease-in-out infinite;
}

@keyframes hintPulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 1; }
}
```

#### ğŸµ éŸ³æ•ˆç®¡ç†å™¨
```javascript
class Scene6AudioManager {
  constructor() {
    this.resonanceAmbient = new Audio('assets/audio/jade-resonance-ambient.mp3');
    this.connectionSound = new Audio('assets/audio/golden-connection.mp3');
    this.powerUpSound = new Audio('assets/audio/power-awakening.mp3');
    this.mysticChime = new Audio('assets/audio/mystic-chime.mp3');
  }
  
  playResonanceSequence() {
    // èƒŒæ™¯æ°›å›´éŸ³
    this.resonanceAmbient.volume = 0.4;
    this.resonanceAmbient.play();
    
    // è¿æ¥éŸ³æ•ˆ
    setTimeout(() => {
      this.connectionSound.volume = 0.6;
      this.connectionSound.play();
    }, 3000);
    
    // ç¥ç§˜é’Ÿå£°
    setTimeout(() => {
      this.mysticChime.volume = 0.5;
      this.mysticChime.play();
    }, 6000);
    
    // åŠ›é‡è§‰é†’éŸ³æ•ˆ
    setTimeout(() => {
      this.powerUpSound.volume = 0.7;
      this.powerUpSound.play();
    }, 8000);
  }
}
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **æ‹–æ‹½å“åº”**ï¼šç‰ä½©æ‹–æ‹½å»¶è¿Ÿ<50ms
- [ ] **è·ç¦»è®¡ç®—**ï¼šå…±é¸£å¼ºåº¦å˜åŒ–å¹³æ»‘è‡ªç„¶
- [ ] **ç‰¹æ•ˆæ€§èƒ½**ï¼šç²’å­ç³»ç»Ÿå¸§ç‡>30fps
- [ ] **éŸ³æ•ˆåŒæ­¥**ï¼šéŸ³ç”»åŒæ­¥è¯¯å·®<100ms
- [ ] **å±æ€§æ›´æ–°**ï¼šæ•°æ®æ­£ç¡®ä¿å­˜åˆ°æ¸¸æˆçŠ¶æ€
- [ ] **ç”¨æˆ·ç†è§£**ï¼šæ–°ç”¨æˆ·èƒ½å¿«é€Ÿç†è§£æ‹–æ‹½æ“ä½œ

## é•œå¤´7ï¼šç«æµ·é€ƒç”Ÿå£®æ­Œ â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"ç«æŠŠè¢«æ‰”åˆ°å¹²è‰å †ä¸Šï¼Œæµ“çƒŸå¾ˆå¿«å……æ»¡äº†å±‹å­......å‰é¢å°±å¡Œæ–¹äº†......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°å±æœºé€ƒç”Ÿï¼Œä½“ç°ä¸»è§’è¶…èƒ½åŠ›è§‰é†’
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»ææƒ§ç»æœ›è½¬å‘å‹‡æ°”çˆ†å‘
**æ—¶é•¿è®¾è®¡**ï¼š40-45ç§’ï¼ˆå«é€ƒç”Ÿå’Œçªç ´ï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šå±æœºçˆ†å‘ï¼ˆ0-8ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šæˆ¿å±‹è¢«ç‚¹ç‡ƒï¼Œç«åŠ¿è¿…é€Ÿè”“å»¶ï¼Œæµ“çƒŸæ»šæ»š
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œè§‚çœ‹å±æœºå»ºç«‹
ç”¨æˆ·æ„Ÿå—ï¼šç´§å¼ ã€ææƒ§ã€ä¸ºè§’è‰²æ‹…å¿ƒ

ç¬¬2é˜¶æ®µï¼šåœ°é“é€ƒç”Ÿï¼ˆ8-20ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šä¸¤äººé’»å…¥åœ°é“ï¼Œå‰æ–¹å‡ºç°å¡Œæ–¹é˜»è·¯
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»æ¸…ç†ç¢çŸ³ï¼Œå¸®åŠ©è§’è‰²å‰è¿›
ç”¨æˆ·æ„Ÿå—ï¼šæ€¥è¿«æ„Ÿã€å‚ä¸æ„Ÿã€æƒ³è¦å¸®åŠ©è§’è‰²

ç¬¬3é˜¶æ®µï¼šåŠ›é‡çˆ†å‘ï¼ˆ20-35ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šä¸»è§’ä¸€æ‹³å‡»ç©¿å¢™å£ï¼Œå±•ç°è¶…äººåŠ›é‡
ç”¨æˆ·æ“ä½œï¼šé•¿æŒ‰è“„åŠ›æŒ‰é’®ï¼Œé‡Šæ”¾ç ´å¢™æ”»å‡»
ç”¨æˆ·æ„Ÿå—ï¼šåŠ›é‡æ„Ÿã€æˆå°±æ„Ÿã€éœ‡æ’¼

ç¬¬4é˜¶æ®µï¼šæˆåŠŸè„±é™©ï¼ˆ35-45ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šä¸¤äººä»ç ´æ´é€ƒå‡ºï¼Œèº«åæ˜¯ç‡ƒçƒ§çš„æˆ¿å±‹
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»ç»§ç»­æˆ–å›å¤´è§‚çœ‹ç«æµ·
ç”¨æˆ·æ„Ÿå—ï¼šè§£è„±æ„Ÿã€å¯¹åŠ›é‡çš„æ•¬ç•
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ åœºæ™¯æ„å»ºä»£ç 
```html
<!-- ç«æµ·é€ƒç”Ÿåœºæ™¯ -->
<div class="fire-escape-scene">
  <!-- èƒŒæ™¯å±‚ -->
  <div class="scene-background">
    <img src="ancient-house-interior.jpg" alt="æˆ¿å±‹å†…éƒ¨">
    <div class="fire-overlay"></div>
  </div>
  
  <!-- ç«ç„°æ•ˆæœå±‚ -->
  <div class="fire-effects">
    <canvas id="fire-particles"></canvas>
    <canvas id="smoke-effects"></canvas>
    <div class="fire-source haystack"></div>
    <div class="fire-source door"></div>
    <div class="fire-source wall"></div>
  </div>
  
  <!-- è§’è‰²å±‚ -->
  <div class="characters">
    <div class="protagonist">
      <img src="protagonist-alert.png" alt="ä¸»è§’">
      <div class="action-state"></div>
    </div>
    <div class="yingzheng">
      <img src="yingzheng-scared.png" alt="å¬´æ”¿">
      <div class="coughing-effect"></div>
    </div>
  </div>
  
  <!-- åœ°é“åœºæ™¯ -->
  <div class="tunnel-scene hidden">
    <div class="tunnel-walls">
      <img src="underground-tunnel.jpg" alt="åœ°ä¸‹é€šé“">
    </div>
    <div class="rubble-blockage">
      <div class="debris clickable" data-debris="1"></div>
      <div class="debris clickable" data-debris="2"></div>
      <div class="debris clickable" data-debris="3"></div>
    </div>
    <div class="power-charge-area hidden">
      <div class="charge-indicator">
        <div class="charge-bar"></div>
        <div class="charge-text">é•¿æŒ‰è“„åŠ›</div>
      </div>
    </div>
  </div>
  
  <!-- ç ´å¢™ç‰¹æ•ˆ -->
  <div class="wall-break-effects hidden">
    <canvas id="debris-particles"></canvas>
    <div class="impact-flash"></div>
    <div class="dust-cloud"></div>
  </div>
  
  <!-- é€ƒç”ŸæˆåŠŸåœºæ™¯ */
  <div class="escape-success hidden">
    <div class="outside-view">
      <img src="outside-burning-house.jpg" alt="ç‡ƒçƒ§çš„æˆ¿å±‹">
      <div class="relief-effects"></div>
    </div>
  </div>
</div>
```

#### ğŸ® é€ƒç”Ÿæ§åˆ¶å™¨
```javascript
class Scene7Controller {
  constructor() {
    this.currentPhase = 1;
    this.fireIntensity = 0;
    this.debrisCleared = 0;
    this.chargeLevel = 0;
    this.isCharging = false;
    this.chargeTimer = null;
    
    this.fireParticleSystem = new FireParticleSystem();
    this.smokeParticleSystem = new SmokeParticleSystem();
  }
  
  // å¯åŠ¨ç«ç¾åœºæ™¯
  startFireScene() {
    this.currentPhase = 1;
    
    // å¯åŠ¨ç«ç„°è”“å»¶åŠ¨ç”»
    this.igniteFire();
    
    // 8ç§’åè¿›å…¥åœ°é“
    setTimeout(() => {
      this.enterTunnel();
    }, 8000);
  }
  
  // ç‚¹ç‡ƒç«ç„°
  igniteFire() {
    const fireSources = document.querySelectorAll('.fire-source');
    
    // ä¾æ¬¡ç‚¹ç‡ƒä¸åŒåŒºåŸŸ
    fireSources.forEach((source, index) => {
      setTimeout(() => {
        source.classList.add('burning');
        this.addFireToSource(source);
      }, index * 2000);
    });
    
    // å¯åŠ¨ç«ç„°ç²’å­ç³»ç»Ÿ
    this.fireParticleSystem.start();
    this.smokeParticleSystem.start();
    
    // å¢åŠ ç«ç„°å¼ºåº¦
    this.increaseFireIntensity();
  }
  
  // å¢åŠ ç«ç„°å¼ºåº¦
  increaseFireIntensity() {
    const intensityTimer = setInterval(() => {
      this.fireIntensity += 0.1;
      
      if (this.fireIntensity >= 1.0) {
        clearInterval(intensityTimer);
      }
      
      // æ›´æ–°ç«ç„°æ•ˆæœ
      this.updateFireEffects();
    }, 200);
  }
  
  // æ›´æ–°ç«ç„°æ•ˆæœ
  updateFireEffects() {
    const fireOverlay = document.querySelector('.fire-overlay');
    fireOverlay.style.opacity = this.fireIntensity * 0.8;
    
    // æ›´æ–°ç²’å­ç³»ç»Ÿ
    this.fireParticleSystem.setIntensity(this.fireIntensity);
    this.smokeParticleSystem.setIntensity(this.fireIntensity);
  }
  
  // è¿›å…¥åœ°é“
  enterTunnel() {
    this.currentPhase = 2;
    
    // éšè—æˆ¿å±‹åœºæ™¯ï¼Œæ˜¾ç¤ºåœ°é“
    document.querySelector('.fire-escape-scene').classList.add('tunnel-mode');
    document.querySelector('.tunnel-scene').classList.remove('hidden');
    
    // æ˜¾ç¤ºå¡Œæ–¹éšœç¢
    this.showRubbleBlockage();
  }
  
  // æ˜¾ç¤ºå¡Œæ–¹éšœç¢
  showRubbleBlockage() {
    const debris = document.querySelectorAll('.debris');
    
    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
    debris.forEach(piece => {
      piece.addEventListener('click', () => {
        this.clearDebris(piece);
      });
    });
    
    // æ˜¾ç¤ºæ¸…ç†æç¤º
    this.showClearingHint();
  }
  
  // æ¸…ç†ç¢çŸ³
  clearDebris(debrisPiece) {
    if (debrisPiece.classList.contains('cleared')) return;
    
    debrisPiece.classList.add('cleared');
    this.debrisCleared++;
    
    // æ’­æ”¾æ¸…ç†éŸ³æ•ˆ
    this.playDebrisSound();
    
    // æ·»åŠ æ¸…ç†ç²’å­æ•ˆæœ
    this.addDebrisParticles(debrisPiece);
    
    // æ£€æŸ¥æ˜¯å¦æ¸…ç†å®Œæ¯•
    if (this.debrisCleared >= 3) {
      setTimeout(() => {
        this.startPowerCharge();
      }, 1000);
    }
  }
  
  // å¯åŠ¨åŠ›é‡è“„ç§¯
  startPowerCharge() {
    this.currentPhase = 3;
    
    // æ˜¾ç¤ºè“„åŠ›åŒºåŸŸ
    document.querySelector('.power-charge-area').classList.remove('hidden');
    
    // ç»‘å®šè“„åŠ›äº‹ä»¶
    this.bindChargeEvents();
  }
  
  // ç»‘å®šè“„åŠ›äº‹ä»¶
  bindChargeEvents() {
    const chargeArea = document.querySelector('.power-charge-area');
    
    chargeArea.addEventListener('mousedown', () => {
      this.startCharging();
    });
    
    chargeArea.addEventListener('touchstart', () => {
      this.startCharging();
    });
    
    document.addEventListener('mouseup', () => {
      this.stopCharging();
    });
    
    document.addEventListener('touchend', () => {
      this.stopCharging();
    });
  }
  
  // å¼€å§‹è“„åŠ›
  startCharging() {
    if (this.isCharging) return;
    
    this.isCharging = true;
    this.chargeLevel = 0;
    
    this.chargeTimer = setInterval(() => {
      this.chargeLevel += 0.02;
      
      if (this.chargeLevel >= 1.0) {
        this.chargeLevel = 1.0;
        this.triggerWallBreak();
      }
      
      this.updateChargeIndicator();
    }, 50);
  }
  
  // åœæ­¢è“„åŠ›
  stopCharging() {
    if (!this.isCharging) return;
    
    this.isCharging = false;
    clearInterval(this.chargeTimer);
    
    // å¦‚æœè“„åŠ›ä¸è¶³ï¼Œé‡ç½®
    if (this.chargeLevel < 1.0) {
      setTimeout(() => {
        this.chargeLevel = 0;
        this.updateChargeIndicator();
      }, 500);
    }
  }
  
  // æ›´æ–°è“„åŠ›æŒ‡ç¤ºå™¨
  updateChargeIndicator() {
    const chargeBar = document.querySelector('.charge-bar');
    const chargeText = document.querySelector('.charge-text');
    
    chargeBar.style.width = (this.chargeLevel * 100) + '%';
    
    if (this.chargeLevel >= 1.0) {
      chargeText.textContent = 'é‡Šæ”¾ï¼';
      chargeBar.classList.add('full-charge');
    } else {
      chargeText.textContent = 'é•¿æŒ‰è“„åŠ›';
      chargeBar.classList.remove('full-charge');
    }
  }
  
  // è§¦å‘ç ´å¢™
  triggerWallBreak() {
    clearInterval(this.chargeTimer);
    this.currentPhase = 4;
    
    // éšè—è“„åŠ›ç•Œé¢
    document.querySelector('.power-charge-area').classList.add('hidden');
    
    // æ’­æ”¾ç ´å¢™åŠ¨ç”»
    this.playWallBreakSequence();
  }
  
  // æ’­æ”¾ç ´å¢™åŠ¨ç”»åºåˆ—
  playWallBreakSequence() {
    // ç¬¬1æ­¥ï¼šå†²å‡»å‡†å¤‡ï¼ˆ0-1ç§’ï¼‰
    this.showImpactPreparation();
    
    // ç¬¬2æ­¥ï¼šæ‹³å‡»å†²å‡»ï¼ˆ1-2ç§’ï¼‰
    setTimeout(() => {
      this.showPunchImpact();
    }, 1000);
    
    // ç¬¬3æ­¥ï¼šå¢™å£ç ´ç¢ï¼ˆ2-4ç§’ï¼‰
    setTimeout(() => {
      this.showWallShatter();
    }, 2000);
    
    // ç¬¬4æ­¥ï¼šé€ƒå‡ºç”Ÿå¤©ï¼ˆ4-6ç§’ï¼‰
    setTimeout(() => {
      this.showSuccessfulEscape();
    }, 4000);
  }
  
  // æ˜¾ç¤ºå†²å‡»å‡†å¤‡
  showImpactPreparation() {
    const protagonist = document.querySelector('.protagonist');
    protagonist.classList.add('charging-power');
    
    // ä¸»è§’èº«ä¸Šå¼€å§‹å‘å…‰
    const powerAura = document.createElement('div');
    powerAura.className = 'power-aura building';
    protagonist.appendChild(powerAura);
  }
  
  // æ˜¾ç¤ºæ‹³å‡»å†²å‡»
  showPunchImpact() {
    const protagonist = document.querySelector('.protagonist');
    protagonist.classList.remove('charging-power');
    protagonist.classList.add('punching');
    
    // å†²å‡»é—ªå…‰
    const impactFlash = document.querySelector('.impact-flash');
    impactFlash.classList.add('active');
    
    // æ’­æ”¾å†²å‡»éŸ³æ•ˆ
    this.playImpactSound();
  }
  
  // æ˜¾ç¤ºå¢™å£ç ´ç¢
  showWallShatter() {
    // æ˜¾ç¤ºç ´å¢™ç‰¹æ•ˆ
    document.querySelector('.wall-break-effects').classList.remove('hidden');
    
    // å¯åŠ¨ç¢ç‰‡ç²’å­ç³»ç»Ÿ
    this.startDebrisParticleSystem();
    
    // æ˜¾ç¤ºç°å°˜äº‘
    document.querySelector('.dust-cloud').classList.add('expanding');
    
    // å¢™å£ä¸Šå‡ºç°è£‚ç¼å’Œæ´å£
    this.createWallHole();
  }
  
  // åˆ›å»ºå¢™æ´
  createWallHole() {
    const wallHole = document.createElement('div');
    wallHole.className = 'wall-hole';
    wallHole.innerHTML = '<div class="hole-light"></div>';
    
    document.querySelector('.tunnel-scene').appendChild(wallHole);
    
    // æ´å£é€æ¸æ‰©å¤§
    setTimeout(() => {
      wallHole.classList.add('expanding');
    }, 500);
  }
  
  // æ˜¾ç¤ºæˆåŠŸé€ƒè„±
  showSuccessfulEscape() {
    // åˆ‡æ¢åˆ°å¤–éƒ¨åœºæ™¯
    document.querySelector('.tunnel-scene').classList.add('hidden');
    document.querySelector('.escape-success').classList.remove('hidden');
    
    // æ˜¾ç¤ºè§£è„±æ•ˆæœ
    this.showReliefEffects();
    
    // æ›´æ–°è§’è‰²çŠ¶æ€
    this.updateCharacterStates();
    
    // 3ç§’åå¯ä»¥ç»§ç»­
    setTimeout(() => {
      this.showContinueButton();
    }, 3000);
  }
  
  // æ˜¾ç¤ºè§£è„±æ•ˆæœ
  showReliefEffects() {
    const reliefEffects = document.querySelector('.relief-effects');
    reliefEffects.innerHTML = `
      <div class="safety-glow"></div>
      <div class="fresh-air-particles"></div>
    `;
  }
  
  // æ›´æ–°è§’è‰²çŠ¶æ€
  updateCharacterStates() {
    // ä¸»è§’ï¼šç–²æƒ«ä½†è‡ªè±ª
    const protagonist = document.querySelector('.protagonist');
    protagonist.src = 'protagonist-exhausted-proud.png';
    
    // å¬´æ”¿ï¼šéœ‡æƒŠå’Œæ„Ÿæ¿€
    const yingzheng = document.querySelector('.yingzheng');
    yingzheng.src = 'yingzheng-amazed.png';
    
    // æ›´æ–°å±æ€§ï¼šæ­¦å¾·+10
    if (window.gameData) {
      window.gameData.attributes.martial += 10;
    }
  }
}

// ç«ç„°ç²’å­ç³»ç»Ÿ
class FireParticleSystem {
  constructor() {
    this.canvas = document.getElementById('fire-particles');
    this.ctx = this.canvas.getContext('2d');
    this.particles = [];
    this.isActive = false;
    this.intensity = 0;
  }
  
  start() {
    this.isActive = true;
    this.animate();
  }
  
  stop() {
    this.isActive = false;
  }
  
  setIntensity(intensity) {
    this.intensity = intensity;
  }
  
  addFireParticle(x, y) {
    this.particles.push({
      x: x,
      y: y,
      life: 1.0,
      size: Math.random() * 8 + 4,
      velocity: {
        x: (Math.random() - 0.5) * 4,
        y: -Math.random() * 3 - 2
      },
      color: this.getFireColor()
    });
  }
  
  getFireColor() {
    const colors = [
      'rgba(255, 100, 0, 0.8)',
      'rgba(255, 150, 0, 0.7)',
      'rgba(255, 200, 0, 0.6)',
      'rgba(255, 50, 0, 0.9)'
    ];
    return colors[Math.floor(Math.random() * colors.length)];
  }
  
  animate() {
    if (!this.isActive) return;
    
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    
    // æ·»åŠ æ–°ç²’å­
    if (Math.random() < this.intensity * 0.3) {
      for (let i = 0; i < 3; i++) {
        this.addFireParticle(
          Math.random() * this.canvas.width,
          this.canvas.height - 50
        );
      }
    }
    
    // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
    this.particles = this.particles.filter(particle => {
      particle.life -= 0.02;
      particle.x += particle.velocity.x;
      particle.y += particle.velocity.y;
      particle.velocity.y *= 0.98; // é‡åŠ›é˜»å°¼
      
      if (particle.life > 0) {
        this.drawParticle(particle);
        return true;
      }
      return false;
    });
    
    requestAnimationFrame(() => this.animate());
  }
  
  drawParticle(particle) {
    const alpha = particle.life;
    this.ctx.globalAlpha = alpha;
    this.ctx.fillStyle = particle.color;
    this.ctx.beginPath();
    this.ctx.arc(particle.x, particle.y, particle.size * alpha, 0, Math.PI * 2);
    this.ctx.fill();
  }
}
```

#### ğŸ¨ è§†è§‰æ•ˆæœCSS
```css
/* ç«æµ·é€ƒç”Ÿåœºæ™¯åŸºç¡€æ ·å¼ */
.fire-escape-scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  transition: all 1s ease;
}

.fire-escape-scene.tunnel-mode {
  transform: translateY(-100vh);
}

/* ç«ç„°è¦†ç›–å±‚ */
.fire-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle at center bottom,
    rgba(255, 100, 0, 0.3) 0%,
    rgba(255, 50, 0, 0.2) 50%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.5s ease;
}

/* ç«æºæ ·å¼ */
.fire-source {
  position: absolute;
  opacity: 0;
  transition: all 1s ease;
}

.fire-source.haystack {
  bottom: 20%;
  left: 30%;
  width: 100px;
  height: 80px;
  background: linear-gradient(to top, #8B4513, #D2691E);
}

.fire-source.burning {
  opacity: 1;
  animation: fireFlicker 0.5s ease-in-out infinite;
}

@keyframes fireFlicker {
  0%, 100% { 
    filter: brightness(1) hue-rotate(0deg); 
    transform: scale(1);
  }
  50% { 
    filter: brightness(1.3) hue-rotate(15deg); 
    transform: scale(1.1);
  }
}

/* åœ°é“åœºæ™¯ */
.tunnel-scene {
  position: absolute;
  top: 100vh;
  width: 100%;
  height: 100vh;
  background: linear-gradient(to bottom, #2c2c2c 0%, #1a1a1a 100%);
  transition: all 1s ease;
}

.fire-escape-scene.tunnel-mode .tunnel-scene {
  top: 0;
}

/* å¡Œæ–¹éšœç¢ */
.rubble-blockage {
  position: absolute;
  bottom: 30%;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 200px;
}

.debris {
  position: absolute;
  width: 60px;
  height: 40px;
  background: linear-gradient(145deg, #8B7355, #5D4E37);
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.debris:nth-child(1) { top: 50px; left: 50px; }
.debris:nth-child(2) { top: 80px; left: 120px; }
.debris:nth-child(3) { top: 100px; left: 200px; }

.debris:hover {
  transform: scale(1.1);
  filter: brightness(1.2);
}

.debris.cleared {
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
}

/* è“„åŠ›åŒºåŸŸ */
.power-charge-area {
  position: absolute;
  bottom: 20%;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  text-align: center;
}

.charge-indicator {
  background: rgba(0, 0, 0, 0.8);
  padding: 20px;
  border-radius: 10px;
  color: white;
}

.charge-bar {
  width: 0%;
  height: 10px;
  background: linear-gradient(to right, #ff4444, #ffaa00, #44ff44);
  border-radius: 5px;
  transition: width 0.1s ease;
  margin: 10px 0;
}

.charge-bar.full-charge {
  animation: chargePulse 0.5s ease-in-out infinite;
}

@keyframes chargePulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* è§’è‰²åŠ¨ä½œçŠ¶æ€ */
.protagonist.charging-power {
  animation: powerBuildup 1s ease-in-out infinite;
}

@keyframes powerBuildup {
  0%, 100% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.05); filter: brightness(1.3); }
}

.protagonist.punching {
  animation: punchAttack 0.5s ease-out;
}

@keyframes punchAttack {
  0% { transform: translateX(0); }
  50% { transform: translateX(30px) scale(1.2); }
  100% { transform: translateX(0); }
}

/* åŠ›é‡å…‰ç¯ */
.power-aura {
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, transparent 70%);
  opacity: 0;
}

.power-aura.building {
  animation: auraBuildup 2s ease-in-out;
}

@keyframes auraBuildup {
  0% { opacity: 0; transform: scale(0.5); }
  50% { opacity: 0.8; transform: scale(1.2); }
  100% { opacity: 1; transform: scale(1); }
}

/* å†²å‡»é—ªå…‰ */
.impact-flash {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 50%);
  opacity: 0;
  pointer-events: none;
}

.impact-flash.active {
  animation: flashImpact 0.5s ease-out;
}

@keyframes flashImpact {
  0% { opacity: 0; }
  20% { opacity: 1; }
  100% { opacity: 0; }
}

/* å¢™æ´æ•ˆæœ */
.wall-hole {
  position: absolute;
  top: 40%;
  right: 10%;
  width: 80px;
  height: 80px;
  background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, transparent 70%);
  border-radius: 50%;
  transform: scale(0);
  transition: transform 1s ease;
}

.wall-hole.expanding {
  transform: scale(2);
}

.hole-light {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60%;
  height: 60%;
  background: radial-gradient(circle, rgba(255,255,200,0.8) 0%, transparent 100%);
  border-radius: 50%;
  animation: lightBeam 2s ease-in-out infinite;
}

@keyframes lightBeam {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* é€ƒç”ŸæˆåŠŸåœºæ™¯ */
.escape-success {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 100%);
}

.relief-effects .safety-glow {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, rgba(255,255,255,0.2) 0%, transparent 70%);
  animation: reliefGlow 3s ease-in-out;
}

@keyframes reliefGlow {
  0% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0.3; }
}
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **ç«ç„°æ•ˆæœ**ï¼šç«ç„°ç²’å­çœŸå®æ„Ÿå¼ºï¼Œå¸§ç‡>30fps
- [ ] **äº¤äº’å“åº”**ï¼šç¢çŸ³æ¸…ç†å’Œè“„åŠ›å“åº”åŠæ—¶
- [ ] **ç ´å¢™ç‰¹æ•ˆ**ï¼šç ´å¢™åŠ¨ç”»éœ‡æ’¼æœ‰åŠ›
- [ ] **éŸ³æ•ˆåŒæ­¥**ï¼šæ‰€æœ‰éŸ³æ•ˆä¸è§†è§‰å®Œç¾åŒæ­¥
- [ ] **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤šå±‚ç²’å­ç³»ç»Ÿè¿è¡Œæµç•…
- [ ] **æƒ…æ„Ÿä¼ è¾¾**ï¼šæˆåŠŸä¼ è¾¾ç´§å¼ å’Œè§£è„±çš„æƒ…æ„Ÿ

## é•œå¤´8ï¼šå¢¨å®¶å·¨å­é™ä¸´ â­â­â­

### ğŸ“– å‰§æœ¬åˆ†æ
**åŸæ–‡ä¾æ®**ï¼š"ä¸€é“é»‘å½±å¦‚é¬¼é­…èˆ¬å‡ºç°ï¼Œå‰‘å…‰ä¸€é—ª......ä»…ä»…å‡ ä¸ªå‘¼å¸é—´ï¼Œåå‡ åèµµå›½å£«å…µå…¨éƒ¨å€’åœ°......"
**æ ¸å¿ƒä»»åŠ¡**ï¼šå±•ç°é¡¶çº§æ­¦è‰ºï¼Œå»ºç«‹å¸ˆçˆ¶æƒå¨å½¢è±¡
**æƒ…æ„Ÿç›®æ ‡**ï¼šä»ç»æœ›ææƒ§è½¬å‘éœ‡æ’¼å´‡æ‹œ
**æ—¶é•¿è®¾è®¡**ï¼š35-40ç§’ï¼ˆå«æˆ˜æ–—å’Œæ”¶å¾’ï¼‰

### ğŸ¯ ç”¨æˆ·ä½“éªŒæµç¨‹
```
ç¬¬1é˜¶æ®µï¼šç»å¢ƒè¿½æ€ï¼ˆ0-8ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šè¿½å…µåŒ…å›´ï¼Œä¸»è§’å’Œå¬´æ”¿é™·å…¥ç»å¢ƒ
ç”¨æˆ·æ“ä½œï¼šæ— éœ€æ“ä½œï¼Œæ„Ÿå—å±æœºæ°›å›´
ç”¨æˆ·æ„Ÿå—ï¼šç´§å¼ ã€ç»æœ›ã€ä¸ºè§’è‰²æ‹…å¿ƒ

ç¬¬2é˜¶æ®µï¼šç¥ç§˜ç°èº«ï¼ˆ8-15ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šç¬›å£°å“èµ·ï¼Œé»‘å½±çªç„¶å‡ºç°
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»è·Ÿéšé»‘å½±çš„ç§»åŠ¨è½¨è¿¹
ç”¨æˆ·æ„Ÿå—ï¼šå¥½å¥‡ã€æœŸå¾…ã€å¸Œæœ›çš„å‡ºç°

ç¬¬3é˜¶æ®µï¼šé—ªç”µæˆ˜æ–—ï¼ˆ15-28ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå·¨å­ç¬é—´å‡»è´¥æ‰€æœ‰æ•Œäººï¼Œå‰‘å…‰çºµæ¨ª
ç”¨æˆ·æ“ä½œï¼šåœ¨å…³é”®æ—¶åˆ»ç‚¹å‡»é…åˆæ”»å‡»èŠ‚å¥
ç”¨æˆ·æ„Ÿå—ï¼šéœ‡æ’¼ã€å´‡æ‹œã€å¯¹é«˜æ‰‹çš„æ•¬ç•

ç¬¬4é˜¶æ®µï¼šæ”¶å¾’ä»ªå¼ï¼ˆ28-40ç§’ï¼‰
ç”¨æˆ·çœ‹åˆ°ï¼šå·¨å­è¡¨æ˜èº«ä»½ï¼Œæå‡ºæ”¶å¾’
ç”¨æˆ·æ“ä½œï¼šç‚¹å‡»é€‰æ‹©æ˜¯å¦æ‹œå¸ˆå­¦è‰º
ç”¨æˆ·æ„Ÿå—ï¼šè£å¹¸ã€å…´å¥‹ã€å¯¹æœªæ¥çš„æœŸå¾…
```

### ğŸ’» æŠ€æœ¯å®ç°æ–¹æ¡ˆ

#### ğŸ¨ åœºæ™¯æ„å»ºä»£ç 
```html
<!-- å¢¨å®¶å·¨å­é™ä¸´åœºæ™¯ -->
<div class="master-arrival-scene">
  <!-- èƒŒæ™¯ç¯å¢ƒ -->
  <div class="scene-background">
    <img src="night-forest-path.jpg" alt="å¤œæ™šå±±è·¯">
    <div class="moonlight-overlay"></div>
    <div class="shadow-areas"></div>
  </div>
  
  <!-- è¿½å…µå±‚ -->
  <div class="enemy-soldiers">
    <div class="soldier" data-id="1" data-position="front-left">
      <img src="zhao-soldier-1.png" alt="èµµå…µ1">
      <div class="weapon sword"></div>
      <div class="life-state alive"></div>
    </div>
    <div class="soldier" data-id="2" data-position="front-right">
      <img src="zhao-soldier-2.png" alt="èµµå…µ2">
      <div class="weapon spear"></div>
      <div class="life-state alive"></div>
    </div>
    <!-- æ›´å¤šå£«å…µ... -->
  </div>
  
  <!-- ä¸»è§’å±‚ -->
  <div class="protagonists">
    <div class="protagonist exhausted">
      <img src="protagonist-tired.png" alt="ç–²æƒ«çš„ä¸»è§’">
      <div class="breathing-effect"></div>
    </div>
    <div class="yingzheng scared">
      <img src="yingzheng-frightened.png" alt="ææƒ§çš„å¬´æ”¿">
      <div class="trembling-effect"></div>
    </div>
  </div>
  
  <!-- å·¨å­å‡ºç°æ•ˆæœ -->
  <div class="master-entrance hidden">
    <div class="flute-sound-waves"></div>
    <div class="shadow-movement-trail"></div>
    <div class="master-silhouette">
      <img src="master-silhouette.png" alt="å·¨å­å‰ªå½±">
      <div class="mysterious-aura"></div>
    </div>
  </div>
  
  <!-- æˆ˜æ–—ç‰¹æ•ˆå±‚ -->
  <div class="combat-effects">
    <canvas id="sword-trails"></canvas>
    <div class="bullet-time-overlay hidden"></div>
    <div class="impact-effects"></div>
    <div class="blood-splashes hidden"></div>
  </div>
  
  <!-- å·¨å­æ˜¾ç° -->
  <div class="master-revealed hidden">
    <div class="master-full-figure">
      <img src="mozi-master.png" alt="å¢¨å®¶å·¨å­">
      <div class="master-aura"></div>
      <div class="sword-glint"></div>
    </div>
    <div class="introduction-text">
      <div class="text-line">æˆ‘æ˜¯å¢¨å®¶å·¨å­</div>
      <div class="text-line">ä½ ä»¬å¯æ„¿æ‹œæˆ‘ä¸ºå¸ˆï¼Ÿ</div>
    </div>
  </div>
  
  <!-- æ‹œå¸ˆé€‰æ‹© -->
  <div class="apprentice-choice hidden">
    <div class="choice-buttons">
      <button class="choice-btn accept" data-choice="accept">
        <span class="btn-text">æ‹œå¸ˆå­¦è‰º</span>
        <span class="btn-effect"></span>
      </button>
      <button class="choice-btn hesitate" data-choice="hesitate">
        <span class="btn-text">è€ƒè™‘ä¸€ä¸‹</span>
        <span class="btn-effect"></span>
      </button>
    </div>
  </div>
</div>
```

#### ğŸ® å·¨å­é™ä¸´æ§åˆ¶å™¨
```javascript
class Scene8Controller {
  constructor() {
    this.currentPhase = 1;
    this.enemyCount = 6;
    this.defeatedCount = 0;
    this.combatSequences = [];
    this.userClickTiming = [];
    
    this.swordTrailSystem = new SwordTrailSystem();
    this.bulletTimeManager = new BulletTimeManager();
  }
  
  // å¯åŠ¨è¿½æ€åœºæ™¯
  startChaseScene() {
    this.currentPhase = 1;
    
    // æ˜¾ç¤ºè¿½å…µåŒ…å›´
    this.showEnemySurround();
    
    // 8ç§’åå·¨å­ç°èº«
    setTimeout(() => {
      this.masterEntrance();
    }, 8000);
  }
  
  // æ˜¾ç¤ºæ•ŒäººåŒ…å›´
  showEnemySurround() {
    const soldiers = document.querySelectorAll('.soldier');
    
    soldiers.forEach((soldier, index) => {
      setTimeout(() => {
        soldier.classList.add('surrounding');
        this.addSoldierThreat(soldier);
      }, index * 500);
    });
    
    // ä¸»è§’ä»¬æ˜¾å¾—ææƒ§
    this.showProtagonistsFear();
  }
  
  // æ˜¾ç¤ºä¸»è§’ææƒ§
  showProtagonistsFear() {
    const protagonist = document.querySelector('.protagonist');
    const yingzheng = document.querySelector('.yingzheng');
    
    protagonist.classList.add('fearful');
    yingzheng.classList.add('terrified');
    
    // æ·»åŠ å‘¼å¸å’Œé¢¤æŠ–æ•ˆæœ
    this.addFearEffects();
  }
  
  // å·¨å­ç™»åœº
  masterEntrance() {
    this.currentPhase = 2;
    
    // æ’­æ”¾ç¬›å£°
    this.playFluteSound();
    
    // æ˜¾ç¤ºå£°æ³¢æ•ˆæœ
    this.showSoundWaves();
    
    // 2ç§’åæ˜¾ç¤ºå·¨å­é˜´å½±
    setTimeout(() => {
      this.showMasterShadow();
    }, 2000);
    
    // 5ç§’åå¼€å§‹æˆ˜æ–—
    setTimeout(() => {
      this.startCombatSequence();
    }, 5000);
  }
  
  // æ˜¾ç¤ºå£°æ³¢æ•ˆæœ
  showSoundWaves() {
    const waveContainer = document.querySelector('.flute-sound-waves');
    
    for (let i = 0; i < 5; i++) {
      setTimeout(() => {
        const wave = document.createElement('div');
        wave.className = 'sound-wave';
        wave.style.animationDelay = i * 0.3 + 's';
        waveContainer.appendChild(wave);
      }, i * 300);
    }
  }
  
  // æ˜¾ç¤ºå·¨å­é˜´å½±
  showMasterShadow() {
    const entranceDiv = document.querySelector('.master-entrance');
    entranceDiv.classList.remove('hidden');
    
    // é˜´å½±ç§»åŠ¨è½¨è¿¹
    const shadowTrail = document.querySelector('.shadow-movement-trail');
    shadowTrail.classList.add('moving');
    
    // æ·»åŠ ç‚¹å‡»è·ŸéšåŠŸèƒ½
    this.enableShadowTracking();
  }
  
  // å¯ç”¨é˜´å½±è·Ÿè¸ª
  enableShadowTracking() {
    const silhouette = document.querySelector('.master-silhouette');
    
    silhouette.addEventListener('click', () => {
      this.recordUserInteraction('shadow_click');
      this.accelerateShadowMovement();
    });
    
    // æ˜¾ç¤ºè·Ÿéšæç¤º
    this.showTrackingHint();
  }
  
  // å¼€å§‹æˆ˜æ–—åºåˆ—
  startCombatSequence() {
    this.currentPhase = 3;
    
    // å¯åŠ¨å­å¼¹æ—¶é—´
    this.bulletTimeManager.activate();
    
    // æ˜¾ç¤ºå­å¼¹æ—¶é—´ç•Œé¢
    document.querySelector('.bullet-time-overlay').classList.remove('hidden');
    
    // æ‰§è¡Œè¿ç»­å‡»æ€
    this.executeKillSequence();
  }
  
  // æ‰§è¡Œå‡»æ€åºåˆ—
  executeKillSequence() {
    const soldiers = document.querySelectorAll('.soldier[data-life="alive"]');
    
    soldiers.forEach((soldier, index) => {
      setTimeout(() => {
        this.attackSoldier(soldier, index);
      }, index * 800);
    });
    
    // æ‰€æœ‰æ•Œäººå€’ä¸‹åæ˜¾ç¤ºå·¨å­
    setTimeout(() => {
      this.revealMaster();
    }, soldiers.length * 800 + 2000);
  }
  
  // æ”»å‡»å£«å…µ
  attackSoldier(soldier, index) {
    // åˆ›å»ºå‰‘å…‰è½¨è¿¹
    const startPos = this.getMasterPosition();
    const endPos = this.getSoldierPosition(soldier);
    
    this.swordTrailSystem.createTrail(startPos, endPos);
    
    // æ·»åŠ ç‚¹å‡»é…åˆæç¤º
    this.showAttackTiming(soldier, () => {
      // ç”¨æˆ·ç‚¹å‡»é…åˆ
      this.recordUserInteraction('attack_timing', index);
      this.enhanceAttackEffect(soldier);
    });
    
    // å£«å…µå€’ä¸‹
    setTimeout(() => {
      this.defeatSoldier(soldier);
    }, 400);
  }
  
  // æ˜¾ç¤ºæ”»å‡»æ—¶æœº
  showAttackTiming(soldier, callback) {
    const timingIndicator = document.createElement('div');
    timingIndicator.className = 'attack-timing-indicator';
    timingIndicator.style.left = soldier.offsetLeft + 'px';
    timingIndicator.style.top = soldier.offsetTop - 50 + 'px';
    
    document.body.appendChild(timingIndicator);
    
    // 2ç§’å†…æœ‰æ•ˆ
    let isActive = true;
    setTimeout(() => {
      isActive = false;
      timingIndicator.remove();
    }, 2000);
    
    timingIndicator.addEventListener('click', () => {
      if (isActive) {
        callback();
        timingIndicator.remove();
        isActive = false;
      }
    });
  }
  
  // å‡»è´¥å£«å…µ
  defeatSoldier(soldier) {
    soldier.classList.add('defeated');
    soldier.dataset.life = 'dead';
    
    // æ·»åŠ è¡€æº…æ•ˆæœ
    this.addBloodSplash(soldier);
    
    // æ’­æ”¾å‡»æ€éŸ³æ•ˆ
    this.playKillSound();
    
    this.defeatedCount++;
  }
  
  // æ˜¾éœ²å·¨å­çœŸèº«
  revealMaster() {
    this.currentPhase = 4;
    
    // å…³é—­å­å¼¹æ—¶é—´
    this.bulletTimeManager.deactivate();
    document.querySelector('.bullet-time-overlay').classList.add('hidden');
    
    // éšè—é˜´å½±ï¼Œæ˜¾ç¤ºçœŸèº«
    document.querySelector('.master-entrance').classList.add('hidden');
    document.querySelector('.master-revealed').classList.remove('hidden');
    
    // å·¨å­å…‰ç¯æ•ˆæœ
    this.showMasterAura();
    
    // æ˜¾ç¤ºä»‹ç»æ–‡å­—
    this.showIntroductionText();
    
    // 5ç§’åæ˜¾ç¤ºæ‹œå¸ˆé€‰æ‹©
    setTimeout(() => {
      this.showApprenticeChoice();
    }, 5000);
  }
  
  // æ˜¾ç¤ºå·¨å­å…‰ç¯
  showMasterAura() {
    const aura = document.querySelector('.master-aura');
    aura.classList.add('active');
    
    // å‰‘å…‰é—ªçƒ
    const swordGlint = document.querySelector('.sword-glint');
    swordGlint.classList.add('glinting');
  }
  
  // æ˜¾ç¤ºä»‹ç»æ–‡å­—
  showIntroductionText() {
    const textLines = document.querySelectorAll('.text-line');
    
    textLines.forEach((line, index) => {
      setTimeout(() => {
        line.classList.add('appear');
      }, index * 1500);
    });
  }
  
  // æ˜¾ç¤ºæ‹œå¸ˆé€‰æ‹©
  showApprenticeChoice() {
    document.querySelector('.apprentice-choice').classList.remove('hidden');
    
    // ç»‘å®šé€‰æ‹©äº‹ä»¶
    this.bindChoiceEvents();
  }
  
  // ç»‘å®šé€‰æ‹©äº‹ä»¶
  bindChoiceEvents() {
    const choiceBtns = document.querySelectorAll('.choice-btn');
    
    choiceBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const choice = btn.dataset.choice;
        this.makeApprenticeChoice(choice);
      });
    });
  }
  
  // åšå‡ºæ‹œå¸ˆé€‰æ‹©
  makeApprenticeChoice(choice) {
    if (choice === 'accept') {
      this.acceptApprenticeship();
    } else {
      this.hesitateApprenticeship();
    }
  }
  
  // æ¥å—æ‹œå¸ˆ
  acceptApprenticeship() {
    // æ›´æ–°æ¸¸æˆçŠ¶æ€
    if (window.gameData) {
      window.gameData.hasMaster = true;
      window.gameData.masterType = 'mozi';
      window.gameData.attributes.cunning += 15;
    }
    
    // æ˜¾ç¤ºæ‹œå¸ˆä»ªå¼
    this.showApprenticeshipCeremony();
  }
  
  // çŠ¹è±«æ‹œå¸ˆ
  hesitateApprenticeship() {
    // å·¨å­ç»™å‡ºç¬¬äºŒæ¬¡æœºä¼š
    this.showSecondChance();
  }
  
  // æ˜¾ç¤ºæ‹œå¸ˆä»ªå¼
  showApprenticeshipCeremony() {
    const ceremony = document.createElement('div');
    ceremony.className = 'apprenticeship-ceremony';
    ceremony.innerHTML = `
      <div class="ceremony-light"></div>
      <div class="bow-animation"></div>
      <div class="master-acceptance">å¸ˆçˆ¶åœ¨ä¸Šï¼Œè¯·å—å¼Ÿå­ä¸€æ‹œ</div>
    `;
    
    document.body.appendChild(ceremony);
    
    // 3ç§’åè¿›å…¥ä¸‹ä¸€é•œå¤´
    setTimeout(() => {
      this.transitionToNextScene();
    }, 3000);
  }
}

// å‰‘å…‰è½¨è¿¹ç³»ç»Ÿ
class SwordTrailSystem {
  constructor() {
    this.canvas = document.getElementById('sword-trails');
    this.ctx = this.canvas.getContext('2d');
    this.trails = [];
  }
  
  createTrail(startPos, endPos) {
    const trail = {
      startX: startPos.x,
      startY: startPos.y,
      endX: endPos.x,
      endY: endPos.y,
      progress: 0,
      intensity: 1.0,
      color: 'rgba(255, 255, 255, 0.9)'
    };
    
    this.trails.push(trail);
    this.animateTrail(trail);
  }
  
  animateTrail(trail) {
    const animate = () => {
      trail.progress += 0.05;
      trail.intensity -= 0.02;
      
      if (trail.progress < 1.0 && trail.intensity > 0) {
        this.drawTrail(trail);
        requestAnimationFrame(animate);
      } else {
        // ç§»é™¤å®Œæˆçš„è½¨è¿¹
        const index = this.trails.indexOf(trail);
        if (index > -1) {
          this.trails.splice(index, 1);
        }
      }
    };
    
    animate();
  }
  
  drawTrail(trail) {
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    
    // è®¡ç®—å½“å‰ä½ç½®
    const currentX = trail.startX + (trail.endX - trail.startX) * trail.progress;
    const currentY = trail.startY + (trail.endY - trail.startY) * trail.progress;
    
    // ç»˜åˆ¶å‰‘å…‰
    this.ctx.globalAlpha = trail.intensity;
    this.ctx.strokeStyle = trail.color;
    this.ctx.lineWidth = 3;
    this.ctx.lineCap = 'round';
    
    this.ctx.beginPath();
    this.ctx.moveTo(trail.startX, trail.startY);
    this.ctx.lineTo(currentX, currentY);
    this.ctx.stroke();
    
    // æ·»åŠ å…‰æ™•æ•ˆæœ
    this.ctx.shadowBlur = 10;
    this.ctx.shadowColor = 'white';
    this.ctx.stroke();
  }
}

// å­å¼¹æ—¶é—´ç®¡ç†å™¨
class BulletTimeManager {
  constructor() {
    this.isActive = false;
    this.originalSpeed = 1.0;
    this.slowSpeed = 0.3;
  }
  
  activate() {
    this.isActive = true;
    document.body.classList.add('bullet-time');
    
    // è°ƒæ•´æ‰€æœ‰åŠ¨ç”»é€Ÿåº¦
    this.adjustAnimationSpeed(this.slowSpeed);
  }
  
  deactivate() {
    this.isActive = false;
    document.body.classList.remove('bullet-time');
    
    // æ¢å¤æ­£å¸¸é€Ÿåº¦
    this.adjustAnimationSpeed(this.originalSpeed);
  }
  
  adjustAnimationSpeed(speed) {
    const style = document.createElement('style');
    style.textContent = `
      .bullet-time * {
        animation-duration: ${1/speed}s !important;
        transition-duration: ${0.5/speed}s !important;
      }
    `;
    
    if (this.isActive) {
      document.head.appendChild(style);
      this.speedStyle = style;
    } else if (this.speedStyle) {
      document.head.removeChild(this.speedStyle);
    }
  }
}
```

#### ğŸ¨ è§†è§‰æ•ˆæœCSS
```css
/* å·¨å­é™ä¸´åœºæ™¯åŸºç¡€æ ·å¼ */
.master-arrival-scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  background: linear-gradient(to bottom, #0a0a0a 0%, #1a1a2e 100%);
  overflow: hidden;
}

/* æœˆå…‰è¦†ç›– */
.moonlight-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at 70% 20%,
    rgba(200, 200, 255, 0.2) 0%,
    transparent 50%
  );
}

/* æ•Œå…µæ ·å¼ */
.soldier {
  position: absolute;
  width: 80px;
  height: 120px;
  transition: all 0.5s ease;
}

.soldier.surrounding {
  animation: threatPose 2s ease-in-out infinite;
}

@keyframes threatPose {
  0%, 100% { transform: scale(1) rotate(-2deg); }
  50% { transform: scale(1.05) rotate(2deg); }
}

.soldier.defeated {
  animation: deathFall 1s ease-out forwards;
}

@keyframes deathFall {
  0% { transform: rotate(0deg); opacity: 1; }
  100% { transform: rotate(90deg) translateY(20px); opacity: 0.3; }
}

/* ä¸»è§’ææƒ§çŠ¶æ€ */
.protagonist.fearful {
  animation: fearShiver 1s ease-in-out infinite;
}

.yingzheng.terrified {
  animation: terrifiedShake 0.8s ease-in-out infinite;
}

@keyframes fearShiver {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}

@keyframes terrifiedShake {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(0.98) rotate(-1deg); }
}

/* å£°æ³¢æ•ˆæœ */
.sound-wave {
  position: absolute;
  width: 50px;
  height: 50px;
  border: 2px solid rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  animation: soundWaveExpand 2s ease-out infinite;
}

@keyframes soundWaveExpand {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* å·¨å­é˜´å½± */
.master-silhouette {
  position: absolute;
  width: 100px;
  height: 150px;
  filter: brightness(0) opacity(0.8);
  transition: all 0.3s ease;
}

.shadow-movement-trail.moving {
  animation: shadowMove 3s ease-in-out;
}

@keyframes shadowMove {
  0% { left: -100px; top: 20%; }
  50% { left: 50%; top: 30%; }
  100% { left: 80%; top: 40%; }
}

/* å­å¼¹æ—¶é—´æ•ˆæœ */
.bullet-time-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle at center,
    transparent 30%,
    rgba(0, 100, 200, 0.1) 70%
  );
  pointer-events: none;
}

.bullet-time * {
  animation-play-state: running;
}

/* æ”»å‡»æ—¶æœºæŒ‡ç¤ºå™¨ */
.attack-timing-indicator {
  position: absolute;
  width: 40px;
  height: 40px;
  background: radial-gradient(circle, rgba(255, 0, 0, 0.8) 0%, transparent 70%);
  border-radius: 50%;
  cursor: pointer;
  animation: timingPulse 0.5s ease-in-out infinite;
}

@keyframes timingPulse {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.3); opacity: 1; }
}

/* å‰‘å…‰è½¨è¿¹ */
#sword-trails {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* å·¨å­å…‰ç¯ */
.master-aura {
  position: absolute;
  top: -30px;
  left: -30px;
  right: -30px;
  bottom: -30px;
  background: radial-gradient(circle, rgba(100, 200, 255, 0.3) 0%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
}

.master-aura.active {
  animation: masterAuraGlow 3s ease-in-out infinite;
}

@keyframes masterAuraGlow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.1); }
}

/* å‰‘å…‰é—ªçƒ */
.sword-glint {
  position: absolute;
  width: 3px;
  height: 60px;
  background: linear-gradient(to bottom, transparent, white, transparent);
  right: 20px;
  top: 30px;
  opacity: 0;
}

.sword-glint.glinting {
  animation: swordGlint 2s ease-in-out infinite;
}

@keyframes swordGlint {
  0%, 90%, 100% { opacity: 0; }
  5%, 15% { opacity: 1; }
}

/* ä»‹ç»æ–‡å­— */
.text-line {
  font-size: 24px;
  color: white;
  text-align: center;
  margin: 10px 0;
  opacity: 0;
  transform: translateY(20px);
  transition: all 1s ease;
}

.text-line.appear {
  opacity: 1;
  transform: translateY(0);
}

/* æ‹œå¸ˆé€‰æ‹©æŒ‰é’® */
.choice-btn {
  padding: 15px 30px;
  margin: 10px;
  background: linear-gradient(145deg, #2c3e50, #34495e);
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.choice-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.choice-btn.accept {
  background: linear-gradient(145deg, #27ae60, #2ecc71);
}

.choice-btn.hesitate {
  background: linear-gradient(145deg, #e67e22, #f39c12);
}

/* æ‹œå¸ˆä»ªå¼ */
.apprenticeship-ceremony {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.ceremony-light {
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
  border-radius: 50%;
  animation: ceremonyGlow 3s ease-in-out infinite;
}

@keyframes ceremonyGlow {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 1; }
}
```

### ğŸ” æµ‹è¯•éªŒæ”¶æ ‡å‡†
- [ ] **å‰‘å…‰è½¨è¿¹**ï¼šè½¨è¿¹ç»˜åˆ¶æµç•…ï¼Œ60fpsæ¸²æŸ“
- [ ] **æ—¶æœºé…åˆ**ï¼šç”¨æˆ·ç‚¹å‡»æ—¶æœºåˆ¤å®šå‡†ç¡®
- [ ] **å­å¼¹æ—¶é—´**ï¼šæ…¢é•œå¤´æ•ˆæœéœ‡æ’¼è‡ªç„¶
- [ ] **è§’è‰²åŠ¨ç”»**ï¼šæ‰€æœ‰è§’è‰²åŠ¨ä½œæµç•…é€¼çœŸ
- [ ] **éŸ³æ•ˆé…åˆ**ï¼šæ­¦æ‰“éŸ³æ•ˆä¸è§†è§‰å®Œç¾åŒæ­¥
- [ ] **æƒ…æ„Ÿä¼ è¾¾**ï¼šæˆåŠŸå±•ç°å·¨å­çš„å¼ºå¤§å’Œç¥ç§˜

## é•œå¤´9ï¼šæœºå…³åŸå¥‡è§‚ â­â­â­

### ğŸ¯ æ ¸å¿ƒå®ç°è¦ç‚¹
- **æŠ€æœ¯é‡ç‚¹**ï¼šCSS 3Då˜æ¢å®ç°å»ºç­‘å±‚æ¬¡ï¼Œé½¿è½®åŠ¨ç”»ç³»ç»Ÿ
- **ç”¨æˆ·æ“ä½œ**ï¼š360åº¦è§‚å¯Ÿå»ºç­‘ï¼Œç‚¹å‡»æœºå…³æŸ¥çœ‹è¿ä½œ
- **å…³é”®ä»£ç **ï¼š
```css
/* æœºå…³åŸ3Dæ•ˆæœ */
.mechanism-city {
  transform-style: preserve-3d;
  perspective: 1000px;
}

.gear-system {
  animation: gearRotate 4s linear infinite;
}

@keyframes gearRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
```
- **éªŒæ”¶æ ‡å‡†**ï¼šå»ºç­‘ç»†èŠ‚ä¸°å¯Œï¼Œæœºå…³è¿è½¬é€¼çœŸ

## é•œå¤´10ï¼šæ—¶è¾°ä¿®ç‚¼è½®å› â­â­â­

### ğŸ¯ æ ¸å¿ƒå®ç°è¦ç‚¹
- **æŠ€æœ¯é‡ç‚¹**ï¼šæ—¶é—´è½®ç›˜æ—‹è½¬åŠ¨ç”»ï¼Œæ¸å˜å…‰å½±ç³»ç»Ÿ
- **ç”¨æˆ·æ“ä½œ**ï¼šç‚¹å‡»æ—¶è¾°è§‚çœ‹ä¿®ç‚¼ï¼Œå¯åŠ é€Ÿæ—¶é—´æµé€
- **å…³é”®ä»£ç **ï¼š
```javascript
// æ—¶è¾°è½®ç›˜æ§åˆ¶å™¨
class TimeWheelController {
  constructor() {
    this.currentHour = 0; // 0-7 å¯¹åº”å¯æ—¶åˆ°æˆŒæ—¶
    this.timeActivities = {
      0: 'æ™¨ç»ƒåçº³', 1: 'æœºå…³å­¦ä¹ ', 2: 'åˆä¼‘è¯»ä¹¦',
      3: 'å¥‡é—¨æ¼”ç»ƒ', 4: 'å®æˆ˜å¯¹æŠ—', 5: 'æ™šè¯¾æ€»ç»“',
      6: 'å¤œé—´å†¥æƒ³', 7: 'ä¼‘æ¯æ¢å¤'
    };
  }
  
  rotateToHour(hour) {
    const rotation = hour * 45; // æ¯ä¸ªæ—¶è¾°45åº¦
    document.querySelector('.time-wheel').style.transform = 
      `rotate(${rotation}deg)`;
  }
}
```
- **éªŒæ”¶æ ‡å‡†**ï¼šæ—¶é—´æµè½¬è‡ªç„¶ï¼Œä¿®ç‚¼å†…å®¹ä¸°å¯Œ

## é•œå¤´11ï¼šå…­å¸ˆä¼ æ‰¿æ®¿å ‚ â­â­â­

### ğŸ¯ æ ¸å¿ƒå®ç°è¦ç‚¹
- **æŠ€æœ¯é‡ç‚¹**ï¼šå¸ˆçˆ¶æŠ€èƒ½æ¼”ç¤ºåŠ¨ç”»ï¼Œé€‰æ‹©ç¡®è®¤ç³»ç»Ÿ
- **ç”¨æˆ·æ“ä½œ**ï¼šç‚¹å‡»å¸ˆçˆ¶æŸ¥çœ‹æŠ€èƒ½ï¼Œç¡®è®¤é€‰æ‹©å¼€å§‹ä¼ æ‰¿
- **å…³é”®ä»£ç **ï¼š
```javascript
// å¸ˆçˆ¶æŠ€èƒ½å±•ç¤ºç³»ç»Ÿ
const masterSkills = {
  jingke: { skill: 'æš—æ€æœ¯', effect: 'stealth-kill-animation' },
  mozi: { skill: 'æœºå…³æœ¯', effect: 'mechanism-build-animation' },
  liguang: { skill: 'ç¥å°„æœ¯', effect: 'arrow-rain-animation' },
  yuefei: { skill: 'æ­¦åœ£æœ¯', effect: 'spear-dance-animation' },
  huatuo: { skill: 'åŒ»æœ¯', effect: 'healing-light-animation' },
  zuoci: { skill: 'é“æ³•', effect: 'magic-transformation-animation' }
};
```
- **éªŒæ”¶æ ‡å‡†**ï¼šæ¯ä½å¸ˆçˆ¶ç‰¹è‰²é²œæ˜ï¼ŒæŠ€èƒ½å±•ç¤ºéœ‡æ’¼

---

## ğŸš€ æ•´ä½“å®æ–½è®¡åˆ’

### ğŸ“… å¼€å‘æ—¶é—´çº¿ï¼ˆå»ºè®®ï¼‰
```
ç¬¬1å‘¨ï¼šé•œå¤´3-4 åŸºç¡€æ¡†æ¶æ­å»º
ç¬¬2å‘¨ï¼šé•œå¤´3-4 è¯¦ç»†å®ç°å’Œæµ‹è¯•
ç¬¬3å‘¨ï¼šé•œå¤´5 é€‰æ‹©ç³»ç»Ÿå¼€å‘
ç¬¬4å‘¨ï¼šé•œå¤´6-7 ç‰¹æ•ˆç³»ç»Ÿå¼€å‘
ç¬¬5å‘¨ï¼šé•œå¤´8-9 å¤æ‚äº¤äº’å®ç°
ç¬¬6å‘¨ï¼šé•œå¤´10-11 å®Œæ•´æ€§æµ‹è¯•
ç¬¬7å‘¨ï¼šæ•´ä½“ä¼˜åŒ–å’Œæ€§èƒ½è°ƒä¼˜
ç¬¬8å‘¨ï¼šç”¨æˆ·æµ‹è¯•å’Œbugä¿®å¤
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆå»ºè®®
- **å‰ç«¯æ¡†æ¶**ï¼šåŸç”ŸHTML5/CSS3/JavaScriptï¼ˆä¿è¯æ€§èƒ½ï¼‰
- **åŠ¨ç”»åº“**ï¼šGSAPï¼ˆå¤æ‚åŠ¨ç”»ï¼‰+ CSS3ï¼ˆç®€å•åŠ¨ç”»ï¼‰
- **ç²’å­ç³»ç»Ÿ**ï¼šThree.js æˆ– è‡ªå®šä¹‰Canvas
- **éŸ³é¢‘å¤„ç†**ï¼šWeb Audio API
- **çŠ¶æ€ç®¡ç†**ï¼šç®€å•çš„è§‚å¯Ÿè€…æ¨¡å¼
- **æ„å»ºå·¥å…·**ï¼šWebpack + Babelï¼ˆES6+æ”¯æŒï¼‰

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–è¦ç‚¹
- **å›¾ç‰‡ä¼˜åŒ–**ï¼šWebPæ ¼å¼ï¼Œæ‡’åŠ è½½ï¼Œé›ªç¢§å›¾
- **åŠ¨ç”»ä¼˜åŒ–**ï¼šä½¿ç”¨transformå’Œopacityï¼Œé¿å…é‡æ’é‡ç»˜
- **å†…å­˜ç®¡ç†**ï¼šåŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨å’ŒDOMå…ƒç´ 
- **åŠ è½½ç­–ç•¥**ï¼šå…³é”®èµ„æºä¼˜å…ˆï¼Œéå…³é”®èµ„æºå»¶è¿ŸåŠ è½½

### ğŸ” è´¨é‡ä¿è¯æµç¨‹
1. **ä»£ç å®¡æŸ¥**ï¼šæ¯ä¸ªé•œå¤´å®Œæˆåè¿›è¡Œä»£ç å®¡æŸ¥
2. **åŠŸèƒ½æµ‹è¯•**ï¼šç¡®ä¿æ‰€æœ‰äº¤äº’åŠŸèƒ½æ­£å¸¸
3. **æ€§èƒ½æµ‹è¯•**ï¼šåœ¨ä¸åŒè®¾å¤‡ä¸Šæµ‹è¯•æ€§èƒ½è¡¨ç°
4. **ç”¨æˆ·æµ‹è¯•**ï¼šé‚€è¯·ç›®æ ‡ç”¨æˆ·è¿›è¡Œä½“éªŒæµ‹è¯•
5. **å…¼å®¹æ€§æµ‹è¯•**ï¼šç¡®ä¿ä¸»æµæµè§ˆå™¨å…¼å®¹

---

## ğŸ’¡ åˆ›æ–°äº®ç‚¹æ€»ç»“

### ğŸ¨ è§†è§‰åˆ›æ–°
- **ç”µå½±çº§é•œå¤´è¯­è¨€**ï¼šæ¯ä¸ªé•œå¤´éƒ½æœ‰ä¸“ä¸šçš„è§†è§‰è®¾è®¡
- **ä¸œæ–¹ç¾å­¦ç°ä»£åŒ–**ï¼šä¼ ç»Ÿæ–‡åŒ–ä¸ç°ä»£æŠ€æœ¯å®Œç¾èåˆ
- **æ²‰æµ¸å¼ç‰¹æ•ˆ**ï¼šWebGLç²’å­ç³»ç»Ÿè¥é€ éœ‡æ’¼è§†è§‰

### ğŸ® äº¤äº’åˆ›æ–°
- **è½»äº’åŠ¨è®¾è®¡**ï¼šç®€åŒ–æ“ä½œï¼Œçªå‡ºè§‚èµä½“éªŒ
- **æ™ºèƒ½å¼•å¯¼**ï¼šè‡ªåŠ¨æ¨è¿›ä¸ç”¨æˆ·é€‰æ‹©çš„å¹³è¡¡
- **å¤šå±‚æ¬¡åé¦ˆ**ï¼šè§†è§‰ã€å¬è§‰ã€è§¦è§‰çš„å…¨æ–¹ä½åé¦ˆ

### ğŸ“± æŠ€æœ¯åˆ›æ–°
- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¯ä¸ªé•œå¤´ç‹¬ç«‹å¼€å‘ï¼Œä¾¿äºç»´æŠ¤
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé’ˆå¯¹ç§»åŠ¨ç«¯çš„æ·±åº¦ä¼˜åŒ–
- **æ•°æ®é©±åŠ¨**ï¼šå®Œæ•´çš„ç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿ

### ğŸ¯ ç”¨æˆ·ä½“éªŒåˆ›æ–°
- **æƒ…æ„Ÿè®¾è®¡**ï¼šæ¯ä¸ªé•œå¤´éƒ½æœ‰æ˜ç¡®çš„æƒ…æ„Ÿç›®æ ‡
- **å­¦ä¹ æ›²çº¿**ï¼šæ¸è¿›å¼çš„å¤æ‚åº¦æå‡
- **é‡ç©ä»·å€¼**ï¼šå¤šåˆ†æ”¯é€‰æ‹©å¢åŠ é‡ç©æ€§

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

é€šè¿‡è¿™å¥—å¯è½åœ°çš„é•œå¤´è®¾è®¡æ–¹æ¡ˆï¼Œã€Šä»£å·qinã€‹å°†å®ç°ï¼š

1. **ç”¨æˆ·ç²˜æ€§**ï¼šå¹³å‡å•æ¬¡æ¸¸æˆæ—¶é•¿>20åˆ†é’Ÿ
2. **æŠ€æœ¯æ ‡æ†**ï¼šæˆä¸ºäº’åŠ¨ç»˜æœ¬æŠ€æœ¯å®ç°çš„æ ‡æ†
3. **æ–‡åŒ–ä¼ æ’­**ï¼šæœ‰æ•ˆä¼ æ’­ä¸­å›½å¤ä»£æ–‡åŒ–ç²¾é«“
4. **å•†ä¸šä»·å€¼**ï¼šä¸ºåç»­å•†ä¸šåŒ–å¥ å®šåšå®åŸºç¡€

è¿™å¥—æ–¹æ¡ˆä¸ä»…æä¾›äº†è¯¦ç»†çš„æŠ€æœ¯å®ç°æŒ‡å¯¼ï¼Œæ›´é‡è¦çš„æ˜¯å»ºç«‹äº†ä¸€å¥—å¯å¤åˆ¶ã€å¯æ‰©å±•çš„äº’åŠ¨ç»˜æœ¬å¼€å‘æ ‡å‡†ã€‚

---

 