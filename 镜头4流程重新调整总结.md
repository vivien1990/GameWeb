# é•œå¤´4æµç¨‹é‡æ–°è°ƒæ•´æ€»ç»“

## ä¿®æ”¹éœ€æ±‚
ç”¨æˆ·è¦æ±‚é‡æ–°è°ƒæ•´é•œå¤´4çš„ç´ ææ’­æ”¾æµç¨‹ï¼Œå…·ä½“è¦æ±‚ï¼š

1. **é˜¶æ®µ1**ï¼šå¼€å§‹è‡ªåŠ¨æ’­æ”¾é•œå¤´4\1\C04001-1.mp4ï¼Œæ’­å®Œæ˜¾ç¤º"èµ·èº«"æŒ‰é’®
2. **é˜¶æ®µ2**ï¼šç‚¹å‡»"èµ·èº«"æ’­æ”¾é•œå¤´4\2\c04002-1.mp4ï¼Œç„¶ååœ¨**æœ€åä¸€å¸§æš‚åœ**ï¼Œå‡ºç°"è§¦æ‘¸ç‰ä½©"æŒ‰é’®
3. **é˜¶æ®µ3**ï¼šç‚¹å‡»"è§¦æ‘¸ç‰ä½©"æ’­æ”¾é•œå¤´4\3\C04003-1.mp4ï¼Œåœ¨**8ç§’æ—¶**å¼¹å‡ºå­—å¹•"è¿™ç‰ä½©....èƒ½å¸æ”¶æ˜Ÿå…‰ï¼Ÿ"ï¼ŒåŒæ—¶**å³ä¾§å‡ºç°äº”ç»´ç•Œé¢**ï¼ˆåªæœ‰æ­¦å¾·å±æ€§å¢é•¿ï¼Œå…¶ä»–å±æ€§ä¸å˜ï¼‰
4. **é˜¶æ®µ4**ï¼šæ’­å®Œè‡ªåŠ¨æ’­æ”¾é•œå¤´4\4\c04004-1.mp4ï¼ˆ**å¾ªç¯æ’­æ”¾**ï¼‰

## å®ç°çš„ä¿®æ”¹

### 1. é˜¶æ®µ2ä¼˜åŒ–
- æ·»åŠ äº† `ontimeupdate` ç›‘å¬å™¨ï¼Œæ£€æµ‹è§†é¢‘æ¥è¿‘ç»“æŸæ—¶è‡ªåŠ¨æš‚åœ
- åœ¨æœ€åä¸€å¸§ï¼ˆ`duration - 0.1`ç§’ï¼‰æš‚åœè§†é¢‘
- æš‚åœåç«‹å³æ˜¾ç¤º"è§¦æ‘¸ç‰ä½©"æŒ‰é’®

### 2. é˜¶æ®µ3å¢å¼º
- æ·»åŠ äº†æ—¶é—´ç›‘å¬ï¼Œåœ¨8ç§’æ—¶è§¦å‘å­—å¹•å’Œå±æ€§ç•Œé¢æ˜¾ç¤º
- æ–°å¢å­—å¹•æ˜¾ç¤ºåŠŸèƒ½ï¼š
  - å­—å¹•å…ƒç´ ï¼š`#subtitle`
  - å­—å¹•æ ·å¼ï¼šåº•éƒ¨å±…ä¸­ï¼Œé‡‘è‰²æ–‡å­—ï¼ŒåŠé€æ˜èƒŒæ™¯
  - å­—å¹•å†…å®¹ï¼šğŸ’­ "è¿™ç‰ä½©....èƒ½å¸æ”¶æ˜Ÿå…‰ï¼Ÿ"
- å±æ€§ç•Œé¢åœ¨8ç§’æ—¶æ˜¾ç¤ºï¼Œé…åˆå­—å¹•å¢å¼ºæ²‰æµ¸æ„Ÿ

### 3. å±æ€§ç³»ç»Ÿè°ƒæ•´
- ä¿®æ”¹å±æ€§æ•°æ®ï¼šåªæœ‰æ­¦å¾·å±æ€§å¢é•¿ï¼ˆ20â†’45ï¼‰ï¼Œå…¶ä»–å±æ€§ä¿æŒä¸å˜
- ä¼˜åŒ–åŠ¨ç”»é€»è¾‘ï¼šä¸å˜çš„å±æ€§ç›´æ¥è®¾ç½®ï¼Œä¸æ’­æ”¾å¢é•¿åŠ¨ç”»
- ä¿ç•™å³ä¾§ç•Œé¢è®¾è®¡

### 4. é˜¶æ®µ4è°ƒæ•´
- è®¾ç½®è§†é¢‘å¾ªç¯æ’­æ”¾ï¼ˆ`loop = true`ï¼‰
- ç§»é™¤ç»“æŸäº‹ä»¶ç›‘å¬
- ç®€åŒ–é€»è¾‘ï¼Œä¸“æ³¨äºå¾ªç¯æ’­æ”¾

### 5. æ–°å¢åŠŸèƒ½
- **å­—å¹•ç³»ç»Ÿ**ï¼š
  - `showSubtitle(text)` - æ˜¾ç¤ºå­—å¹•
  - `hideSubtitle()` - éšè—å­—å¹•
  - å­—å¹•æ ·å¼å®Œæ•´ï¼ŒåŒ…å«åŠ¨ç”»æ•ˆæœ

### 6. ä»£ç ä¼˜åŒ–
- åˆ é™¤äº†ä¸å†éœ€è¦çš„ `preparePhase3()` å‡½æ•°
- ç®€åŒ–äº†æµç¨‹é€»è¾‘
- å¢å¼ºäº†é”™è¯¯å¤„ç†å’Œè°ƒè¯•ä¿¡æ¯

## æŠ€æœ¯å®ç°è¦ç‚¹

### å­—å¹•æ ·å¼
```css
.subtitle {
    position: fixed;
    bottom: 120px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.85);
    color: #FFD700;
    /* ... æ›´å¤šæ ·å¼ */
}
```

### æ—¶é—´ç›‘å¬
```javascript
this.mainVideo.ontimeupdate = () => {
    if (this.mainVideo.currentTime >= 8.0 && !this.subtitleShown) {
        this.subtitleShown = true;
        this.showSubtitle('è¿™ç‰ä½©....èƒ½å¸æ”¶æ˜Ÿå…‰ï¼Ÿ');
        this.showAttributesPanel();
    }
};
```

### å±æ€§é…ç½®
```javascript
this.attributes = {
    knowledge: { current: 15, target: 15, element: 'knowledge' }, // ä¸å˜
    martial: { current: 20, target: 45, element: 'martial' },     // å¢é•¿
    cunning: { current: 12, target: 12, element: 'cunning' },     // ä¸å˜
    charisma: { current: 18, target: 18, element: 'charisma' },   // ä¸å˜
    virtue: { current: 10, target: 10, element: 'virtue' }        // ä¸å˜
};
```

## æ›´æ–°çš„æ–‡ä»¶
- `scene4-new-awakening.html` - ä¸»è¦å®ç°æ–‡ä»¶
- `test-scene4-new.html` - æµ‹è¯•é¡µé¢è¯´æ˜
- `é•œå¤´4æµç¨‹é‡æ–°è°ƒæ•´æ€»ç»“.md` - æœ¬æ–‡æ¡£

## é¢„æœŸæ•ˆæœ
1. æ›´ç²¾ç¡®çš„æµç¨‹æ§åˆ¶ï¼ˆæœ€åä¸€å¸§æš‚åœï¼‰
2. å¢å¼ºçš„æ•…äº‹æ²‰æµ¸æ„Ÿï¼ˆ8ç§’å­—å¹•é…åˆï¼‰
3. åˆç†çš„å±æ€§å¢é•¿ï¼ˆåªæœ‰æ­¦å¾·æå‡ï¼‰
4. å®Œæ•´çš„å¾ªç¯ç»“æŸï¼ˆé˜¶æ®µ4å¾ªç¯æ’­æ”¾ï¼‰

## è°ƒè¯•åŠŸèƒ½
- ä¿ç•™äº†æ‰€æœ‰è°ƒè¯•æŒ‰é’®å’Œæ§åˆ¶é¢æ¿
- å¢åŠ äº†è¯¦ç»†çš„æ§åˆ¶å°æ—¥å¿—
- æ”¯æŒå¿«é€Ÿè·³è½¬åˆ°å„ä¸ªé˜¶æ®µ

æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆï¼Œç¬¦åˆç”¨æˆ·çš„æ–°æµç¨‹è¦æ±‚ã€‚ 